(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3230],{4489:function(e,a,s){Promise.resolve().then(s.bind(s,5025))},5025:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return F}});var l=s(9268),t=s(6006),r=s(593),i=s(5437),n=s(3346),d=s(769),o=s(6008),c=s(6598),u=s(7565),m=e=>{let{setDelete:a,setEdit:s,search:m}=e,x=(0,o.useSearchParams)(),h=x.get("berita_acara_id")||"",{setDetBeritaAcara:p,dtDetBeritaAcara:f}=(0,d.Z)(),[j,v]=(0,t.useState)(1),[g,b]=(0,t.useState)(10),[w,N]=(0,t.useState)(!0),[k,y]=(0,t.useState)(),[_,S]=(0,t.useState)("-1"),D=async()=>{await p({page:j,limit:g,search:m,berita_acara_id:h}),N(!1)};return(0,t.useEffect)(()=>(D(),()=>{}),[j,g]),(0,t.useEffect)(()=>{v(1),D()},[m]),(0,t.useEffect)(()=>{y((0,c.Z)({data:null==f?void 0:f.data,pictures:["foto","paraf_mhs","paraf_dosen","paraf_pemeriksa"],title:{path:"materi"},description:{path:"tgl"}}))},[null==f?void 0:f.data]),(0,l.jsxs)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:[(0,l.jsx)(u.Z,{index:_,setIndex:S,slides:k}),w?(0,l.jsx)(r.Z,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"",children:(0,l.jsx)(n.Z,{headTable:["No","Tgl. Pertemuan","Materi","Jumlah MHS","Sistem Belajar","Paraf MHS","Paraf Dosen","Paraf Pemeriksa","Foto","Aksi"],tableBodies:["tgl","materi","jmlh_mhs","sistem","paraf_mhs","paraf_dosen","paraf_pemeriksa","foto"],dataTable:f.data,page:j,limit:g,setEdit:s,setDelete:a,ubah:!0,hapus:!0,setIndexBox:S})}),(null==f?void 0:f.last_page)>1&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(i.Z,{currentPage:null==f?void 0:f.current_page,totalPages:null==f?void 0:f.last_page,setPage:v})})]})]})},x=s(366),h=s(2985),p=s(7808),f=s(9442),j=s(9700),v=s(8860),g=s(9977),b=s.n(g),w=s(5326),N=s.n(w),k=e=>{let{control:a,required:s,name:t,errors:r,addClass:i,label:n,startDate:d,setStartDate:o,includeDateIntervals:c}=e;return(0,l.jsxs)("div",{className:i,children:[(0,l.jsxs)("label",{className:"text-sm font-medium text-gray-700 tracking-wide block",children:[n,s&&(0,l.jsx)("span",{className:"ml-1 text-red-600",children:"*"})]}),(0,l.jsx)(j.Qr,{name:t,control:a,rules:{required:s},render:e=>{let{field:a}=e;return(0,l.jsx)(b(),{selected:d,onChange:e=>{if(e){o(e);let s=N()(e).format("YYYY-MM-DD");a.onChange(s)}else o(null),a.onChange("")},dateFormat:"dd/MM/yyyy",value:d||"",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"w-full border rounded-lg py-2 px-4",includeDateIntervals:c,placeholderText:"dd/mm/yyyy"})}}),(null==r?void 0:r.type)==="required"&&(0,l.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[n," tidak boleh kosong"]})]})},y=s(63),_=s(1281);s(6760);var S=e=>{var a;let{register:s,errors:t,control:r,dtEdit:i,watch:n,setValue:d,showModal:o,tgl:c,setTgl:u,myFile:m,setMyFile:x}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k,{label:"Tgl. Berita Acara",name:"tgl",control:r,startDate:c,setStartDate:u,required:!0,errors:t.tgl,addClass:"col-span-8 lg:col-span-2",includeDateIntervals:[{start:(a=new Date,new Date(a.getTime()-1728e7)),end:new Date}]}),(0,l.jsx)(h.Z,{label:"Jumlah MHS",name:"jmlh_mhs",register:s,required:!0,errors:t.jmlh_mhs,type:"number",addClass:"col-span-8 lg:col-span-2"}),(0,l.jsx)(h.Z,{label:"Materi (Kuliah Perpertemuan)",name:"materi",register:s,required:!0,errors:t.materi,addClass:"col-span-8"}),(0,l.jsx)(_.u,{label:"Sistem Belajar",defaultOption:"Pilih Sistem Belajar",register:s,errors:t,name:"sistem",options:[{value:"Daring",label:"Daring (Online)"},{value:"Luring",label:"Luring (Tatap Muka)"}],addClass:"col-span-8"}),(0,l.jsx)(v.Z,{watch:n,control:r,name:"paraf_mhs",label:"Paraf Mhs",required:!i,errors:t.paraf_mhs,setValue:d,clear:!0,addClass:"col-span-8 lg:col-span-4"}),(0,l.jsx)(v.Z,{control:r,name:"paraf_dosen",label:"Paraf Dosen",required:!i,errors:t.paraf_dosen,setValue:d,clear:!0,watch:n,addClass:"col-span-8 lg:col-span-4"}),(0,l.jsx)(y.Z,{label:"Foto (Aktivitas BBM di Kelas)",name:"foto",register:s,accept:"image/*",required:!0,errors:t.foto,addClass:"col-span-8",setValue:d,fileEdit:null==i?void 0:i.foto,myFile:m,setMyFile:x})]})},D=e=>{let{showModal:a,setShowModal:s,dtEdit:i}=e,n=(0,o.useSearchParams)(),c=n.get("berita_acara_id")||"",[u,m]=(0,t.useState)(new Date("01-01-1980")),[v,g]=(0,t.useState)(),[b,w]=(0,t.useState)(!1),{addData:N,updateData:k}=(0,d.Z)(),{register:y,handleSubmit:_,setValue:D,control:Z,formState:{errors:M},watch:C}=(0,j.cI)(),P=()=>{D("id",""),D("materi",""),D("jmlh_mhs",""),D("tgl",""),D("foto",""),D("paraf_dosen",""),D("paraf_mhs",""),D("paraf_pemeriksa",""),m(""),g(null)};(0,t.useEffect)(()=>{i?(D("id",i.id),D("materi",i.materi),D("jmlh_mhs",i.jmlh_mhs),D("tgl",i.tgl),m(new Date(i.tgl)),D("foto",i.foto),D("sistem",i.sistem)):P()},[a,i]);let E=async e=>{if(w(!0),e.berita_acara_id=c,i){let{data:a}=await k(i.id,e);(0,f.Z)({event:a}),s(!1)}else{let{data:a}=await N(e);console.log({data:a}),(0,f.Z)({event:a}),(null==a?void 0:a.type)!=="success"||P()}w(!1)};return(0,l.jsx)(p.Z,{title:"Form Dosen",showModal:a,setShowModal:s,children:(0,l.jsxs)("form",{onSubmit:_(E),children:[(0,l.jsx)(h.Z,{name:"id",register:y,type:"hidden"}),(0,l.jsx)("div",{className:"grid grid-cols-8 gap-2 mb-4",children:(0,l.jsx)(S,{register:y,errors:M,dtEdit:i,control:Z,watch:C,setValue:D,showModal:a,myFile:v,setMyFile:g,tgl:u,setTgl:m})}),(0,l.jsx)("div",{children:b?(0,l.jsx)(r.Z,{}):(0,l.jsx)(x.Z,{text:"Simpan",onClick:_(E)})})]})})},Z=s(686),M=s(8919),C=s(8350),P=s(3415),E=s(1468),F=()=>{var e,a,s,i,n;let{removeData:c,showDetBeritaAcara:u}=(0,d.Z)(),{setShowJadwal:h,dtJadwal:p}=(0,E.Z)(),j=(0,o.useSearchParams)(),v=j.get("berita_acara_id")||"",g=j.get("jadwal_id")||"",[b,w]=(0,t.useState)(!1),[N,k]=(0,t.useState)(!1),[y,_]=(0,t.useState)(),[S,F]=(0,t.useState)(),[T,q]=(0,t.useState)(""),[B,A]=(0,t.useState)(!1),I=async e=>{let{id:a,isDelete:s}=e;if(_(a),s){let{data:e}=await c(y);(0,f.Z)({event:e}),k(!1)}else k(!0)};return(0,t.useEffect)(()=>(h(g),()=>{}),[g,h]),(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(M.Toaster,{}),(0,l.jsx)(D,{dtEdit:S,showModal:b,setShowModal:w}),(0,l.jsx)(Z.Z,{showDel:N,setShowDel:k,setDelete:I}),(0,l.jsxs)("div",{className:"mb-4 flex flex-col-reverse justify-between md:flex-row",children:[(0,l.jsxs)("div",{className:"flex flex-col w-full",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"w-32 inline-block uppercase",children:"Dosen"}),(0,l.jsxs)("span",{children:[": ",null==p?void 0:null===(e=p.dosen)||void 0===e?void 0:e.nama]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"w-32 inline-block uppercase",children:"KODE MK"}),(0,l.jsxs)("span",{children:[": ",null==p?void 0:null===(a=p.matkul)||void 0===a?void 0:a.kode]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"w-32 inline-block uppercase",children:"Mata Kuliah"}),(0,l.jsxs)("span",{children:[": ",null==p?void 0:null===(s=p.matkul)||void 0===s?void 0:s.nama]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"w-32 inline-block uppercase",children:"SKS/SMT/KLS"}),(0,l.jsxs)("span",{children:[": ",null==p?void 0:null===(i=p.matkul)||void 0===i?void 0:i.sks," / ",null==p?void 0:p.semester," T.A 2023/2024"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"w-32 inline-block uppercase",children:"Ruangan"}),(0,l.jsxs)("span",{children:[": ",null==p?void 0:null===(n=p.ruangan)||void 0===n?void 0:n.kode]})]})]}),(0,l.jsx)("div",{className:"flex lg:justify-normal flex-col gap-4",children:(0,l.jsxs)("div",{className:"flex gap-2 self-start md:w-64",children:[B?(0,l.jsx)(r.Z,{}):(0,l.jsx)(x.Z,{text:"Cetak",addClass:" bg-secondary",onClick:()=>{A(!0),window.open("".concat(P._n,"/pdf/berita-acara/").concat(v)),A(!1)}}),(0,l.jsx)(x.Z,{text:"Tambah Data",addClass:"",onClick:()=>{w(!0),F(null)}})]})})]}),(0,l.jsx)(C.Z,{placeholder:"Cari Data",onChange:e=>q(e)})]}),(0,l.jsx)(m,{setDelete:I,setEdit:e=>{w(!0),F(e)},search:T})]})}},63:function(e,a,s){"use strict";var l=s(9268),t=s(3415),r=s(6394),i=s.n(r),n=s(6006),d=s(5883),o=s.n(d);a.Z=e=>{let{label:a,register:s,required:r,name:d,errors:c,addClass:u,accept:m,setValue:x,fileEdit:h,myFile:p,setMyFile:f}=e,[j,v]=(0,n.useState)(),g=e=>new Promise(()=>{if(e){var a;let s=(null==e?void 0:null===(a=e.type)||void 0===a?void 0:a.split("/"))||[],l=s[0];if("image"!==l)return b(e);console.log({splitType:s}),o().imageFileResizer(e,1500,1500,s[1],80,0,e=>{b(e)},"file")}else b(null)}),b=e=>{var a;if(e){let a=new FileReader;a.readAsDataURL(e),a.onloadend=()=>{f(a.result)}}let s=(null==e?void 0:null===(a=e.type)||void 0===a?void 0:a.split("/"))||[];v(s[0]),x(d,e)};return(0,l.jsxs)("div",{className:u,children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:a}),r&&(0,l.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,l.jsx)("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",id:"fileInput",type:"file",accept:m,onChange:e=>{var a;let s=(null===(a=e.target)||void 0===a?void 0:a.files[0])||null;g(s)}}),(0,l.jsx)("input",{type:"hidden",id:a,...s(d,{required:r})}),(0,l.jsxs)("div",{className:"flex gap-4 mt-2",children:[p&&"image"===j&&(0,l.jsx)(i(),{className:"rounded-lg",src:p,width:100,height:100,alt:""}),h&&"file"!==d&&(0,l.jsx)("div",{children:(0,l.jsx)(i(),{src:"".concat(t._n,"/").concat(h),width:100,height:100,alt:""})})]}),(null==c?void 0:c.type)==="required"&&(0,l.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[a," tidak boleh kosong"]})]})}},686:function(e,a,s){"use strict";var l=s(9268);s(6006);var t=s(8136);a.Z=e=>{let{showDel:a,setShowDel:s,setDelete:r}=e;return a&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"fixed inset-0 z-50 mx-auto flex justify-center bg-black/[0.2]",children:(0,l.jsxs)("div",{className:"bg-white p-5 rounded-xl lg:ml-64 md:min-w-[500px] h-min mt-[20%] max-h-[70%] overflow-auto",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-primary/[0.1] mb-4 pb-2",children:[(0,l.jsx)("h5",{className:"text-xl font-roboto",children:"Hapus Data"}),(0,l.jsx)(t.C7Q,{className:"cursor-pointer hover:text-black/[0.5]",onClick:()=>s(!1)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"Apaka Anda Yakin Menghapus Data Ini?"}),(0,l.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,l.jsx)("button",{className:"hover:border hover:border-red-600 bg-red-600 w-20 py-2 rounded-xl text-white ",onClick:()=>r({isDelete:!0}),children:"Hapus"}),(0,l.jsx)("button",{className:"w-20 py-2 rounded-xl hover:border-b",onClick:()=>s(!1),children:"Batal"})]})]})]})})})}},1281:function(e,a,s){"use strict";s.d(a,{u:function(){return t}});var l=s(9268);s(6006);let t=e=>{let{label:a,register:s,required:t,name:r,placeholder:i,defaultOption:n,options:d=[],errors:o,addClass:c}=e;return(0,l.jsxs)("div",{className:c,children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:a}),t&&(0,l.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("select",{className:"w-full rounded-lg py-2 px-2 bg-white border border-gray-300 focus:outline-none focus:border-secondary",id:a,placeholder:i,...s(r,{required:t}),children:[(0,l.jsx)("option",{value:"",children:n}),d.map((e,a)=>(0,l.jsx)("option",{value:e.value,children:e.label},a))]})}),(null==o?void 0:o.type)==="required"&&(0,l.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[a," tidak boleh kosong"]})]})}}},function(e){e.O(0,[6680,4550,4288,2772,90,3088,8227,1192,9114,3690,9253,7698,1744],function(){return e(e.s=4489)}),_N_E=e.O()}]);