(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3230],{8239:function(e,t,s){Promise.resolve().then(s.bind(s,5025))},5025:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var a=s(9268),l=s(6006),r=s(593),i=s(5437),n=s(3346),d=s(769),o=s(6008),c=e=>{let{setDelete:t,setEdit:s,search:c}=e,u=(0,o.useSearchParams)(),x=u.get("berita_acara_id")||"",{setDetBeritaAcara:m,dtDetBeritaAcara:h}=(0,d.Z)(),[p,f]=(0,l.useState)(1),[j,v]=(0,l.useState)(10),[g,b]=(0,l.useState)(!0),w=async()=>{await m({page:p,limit:j,search:c,berita_acara_id:x}),b(!1)};return(0,l.useEffect)(()=>(w(),()=>{}),[p,j]),(0,l.useEffect)(()=>{f(1),w()},[c]),(0,a.jsx)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:g?(0,a.jsx)(r.Z,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)(n.Z,{headTable:["No","Tgl. Pertemuan","Materi","Jumlah MHS","Foto","Aksi"],tableBodies:["tgl","materi","jmlh_mhs","foto"],dataTable:h.data,page:p,limit:j,setEdit:s,setDelete:t,ubah:!0,hapus:!0})}),(null==h?void 0:h.last_page)>1&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(i.Z,{currentPage:null==h?void 0:h.current_page,totalPages:null==h?void 0:h.last_page,setPage:f})})]})})},u=s(366),x=s(2985),m=s(7808),h=s(9442),p=s(9700),f=s(9977),j=s.n(f),v=s(5326),g=s.n(v),b=e=>{let{control:t,required:s,name:l,errors:r,addClass:i,label:n,startDate:d,setStartDate:o,includeDateIntervals:c}=e;return(0,a.jsxs)("div",{className:i,children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700 tracking-wide block",children:[n,s&&(0,a.jsx)("span",{className:"ml-1 text-red-600",children:"*"})]}),(0,a.jsx)(p.Qr,{name:l,control:t,rules:{required:s},render:e=>{let{field:t}=e;return(0,a.jsx)(j(),{selected:d,onChange:e=>{if(e){o(e);let s=g()(e).format("YYYY-MM-DD");t.onChange(s)}else o(null),t.onChange("")},dateFormat:"dd/MM/yyyy",value:d||"",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"w-full border rounded-lg py-2 px-4",includeDateIntervals:c,placeholderText:"dd/mm/yyyy"})}}),(null==r?void 0:r.type)==="required"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[n," tidak boleh kosong"]})]})},w=s(63),y=s(4502);s(6760);var N=e=>{var t;let{register:s,errors:r,control:i,dtEdit:n,watch:d,setValue:o,showModal:c,tgl:u,setTgl:m,myFile:h,setMyFile:p}=e,{setProdiAll:f,dtProdi:j}=(0,y.Z)(),v=async e=>{let{search:t}=e;await f({search:t})};return(0,l.useEffect)(()=>{v({})},[c]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b,{label:"Tgl. Berita Acara",name:"tgl",control:i,startDate:u,setStartDate:m,required:!0,errors:r.tgl,addClass:"col-span-4 lg:col-span-2",includeDateIntervals:[{start:(t=new Date,new Date(t.getTime()-6048e5)),end:new Date}]}),(0,a.jsx)(x.Z,{label:"Jumlah MHS",name:"jmlh_mhs",register:s,required:!0,errors:r.jmlh_mhs,type:"number",addClass:"col-span-4 lg:col-span-2"}),(0,a.jsx)(x.Z,{label:"Materi",name:"materi",register:s,required:!0,errors:r.materi,addClass:"col-span-4"}),(0,a.jsx)(w.Z,{label:"Foto",name:"foto",register:s,accept:"image/*",required:!0,errors:r.foto,addClass:"col-span-4",setValue:o,fileEdit:null==n?void 0:n.foto,myFile:h,setMyFile:p})]})},k=e=>{let{showModal:t,setShowModal:s,dtEdit:r}=e,i=(0,o.useSearchParams)(),n=i.get("berita_acara_id")||"",[c,f]=(0,l.useState)(new Date("01-01-1980")),[j,v]=(0,l.useState)(),{addData:g,updateData:b}=(0,d.Z)(),{register:w,handleSubmit:y,setValue:k,control:Z,formState:{errors:D},watch:C}=(0,p.cI)(),S=()=>{k("id",""),k("materi",""),k("jmlh_mhs",""),k("tgl",""),k("foto",""),f(""),v(null)};(0,l.useEffect)(()=>{r?(k("id",r.id),k("materi",r.materi),k("jmlh_mhs",r.jmlh_mhs),k("tgl",r.tgl),f(new Date(r.tgl)),k("foto",r.foto)):S()},[t,r]);let _=async e=>{if(e.berita_acara_id=n,console.log({row:e}),r){let{data:t}=await b(r.id,e);(0,h.Z)({event:t}),s(!1)}else{let{data:t}=await g(e);console.log({data:t}),(0,h.Z)({event:t}),(null==t?void 0:t.type)!=="success"||S()}};return(0,a.jsx)(m.Z,{title:"Form Dosen",showModal:t,setShowModal:s,children:(0,a.jsxs)("form",{onSubmit:y(_),children:[(0,a.jsx)(x.Z,{name:"id",register:w,type:"hidden"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:(0,a.jsx)(N,{register:w,errors:D,dtEdit:r,control:Z,watch:C,setValue:k,showModal:t,myFile:j,setMyFile:v,tgl:c,setTgl:f})}),(0,a.jsx)("div",{children:(0,a.jsx)(u.Z,{text:"Simpan",onClick:y(_)})})]})})},Z=s(686),D=s(8919),C=s(8350),S=s(3415),_=()=>{var e,t,s,i,n;let{removeData:x,setShowDetBeritaAcara:m,showDetBeritaAcara:p}=(0,d.Z)(),f=(0,o.useSearchParams)(),j=f.get("berita_acara_id")||"",[v,g]=(0,l.useState)(!1),[b,w]=(0,l.useState)(!1),[y,N]=(0,l.useState)(),[_,M]=(0,l.useState)(),[P,E]=(0,l.useState)(""),[F,T]=(0,l.useState)(!1),q=async e=>{let{id:t,isDelete:s}=e;if(N(t),s){let{data:e}=await x(y);(0,h.Z)({event:e}),w(!1)}else w(!0)};(0,l.useEffect)(()=>(m(j),()=>{}),[j,m]);let A=null==p?void 0:p.jadwal;return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(D.x7,{}),(0,a.jsx)(k,{dtEdit:_,showModal:v,setShowModal:g}),(0,a.jsx)(Z.Z,{showDel:b,setShowDel:w,setDelete:q}),(0,a.jsxs)("div",{className:"mb-4 flex flex-col-reverse justify-between md:flex-row",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"w-32 inline-block uppercase",children:"Dosen"}),(0,a.jsxs)("span",{children:[": ",null==A?void 0:null===(e=A.dosen)||void 0===e?void 0:e.nama]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"w-32 inline-block uppercase",children:"KODE MK"}),(0,a.jsxs)("span",{children:[": ",null==A?void 0:null===(t=A.matkul)||void 0===t?void 0:t.kode]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"w-32 inline-block uppercase",children:"Mata Kuliah"}),(0,a.jsxs)("span",{children:[": ",null==A?void 0:null===(s=A.matkul)||void 0===s?void 0:s.nama]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"w-32 inline-block uppercase",children:"SKS"}),(0,a.jsxs)("span",{children:[": ",null==A?void 0:null===(i=A.matkul)||void 0===i?void 0:i.sks]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"w-32 inline-block uppercase",children:"Ruangan"}),(0,a.jsxs)("span",{children:[": ",null==A?void 0:null===(n=A.ruangan)||void 0===n?void 0:n.kode]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between self-start md:w-64",children:[F?(0,a.jsx)(r.Z,{}):(0,a.jsx)(u.Z,{text:"Cetak",addClass:"self-end bg-secondary",onClick:()=>{T(!0),window.open("".concat(S._n,"/pdf/berita-acara/").concat(j)),T(!1)}}),(0,a.jsx)(u.Z,{text:"Tambah Data",addClass:"self-end",onClick:()=>{g(!0),M(null)}})]})]}),(0,a.jsx)(C.Z,{placeholder:"Cari Data",onChange:e=>E(e)})]}),(0,a.jsx)(c,{setDelete:q,setEdit:e=>{g(!0),M(e)},search:P})]})}},366:function(e,t,s){"use strict";var a=s(9268);s(6006),t.Z=e=>{let{text:t,onClick:s,addClass:l}=e;return(0,a.jsx)("button",{onClick:s,className:"bg-primary rounded-lg px-4 py-2 text-white w-fit cursor-pointer hover:shadow-sm hover:shadow-primary ".concat(l),children:t})}},63:function(e,t,s){"use strict";var a=s(9268),l=s(3415),r=s(6394),i=s.n(r),n=s(6006),d=s(5883),o=s.n(d);t.Z=e=>{let{label:t,register:s,required:r,name:d,errors:c,addClass:u,accept:x,setValue:m,fileEdit:h,myFile:p,setMyFile:f}=e,[j,v]=(0,n.useState)(),g=e=>new Promise(()=>{if(e){var t;let s=(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.split("/"))||[],a=s[0];if("image"!==a)return b(e);console.log({splitType:s}),o().imageFileResizer(e,1500,1500,s[1],80,0,e=>{b(e)},"file")}else b(null)}),b=e=>{var t;if(e){let t=new FileReader;t.readAsDataURL(e),t.onloadend=()=>{f(t.result)}}let s=(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.split("/"))||[];v(s[0]),m(d,e)};return(0,a.jsxs)("div",{className:u,children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:t}),r&&(0,a.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,a.jsx)("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",id:"fileInput",type:"file",accept:x,onChange:e=>{var t;let s=(null===(t=e.target)||void 0===t?void 0:t.files[0])||null;g(s)}}),(0,a.jsx)("input",{type:"hidden",id:t,...s(d,{required:r})}),(0,a.jsxs)("div",{className:"flex gap-4 mt-2",children:[p&&"image"===j&&(0,a.jsx)(i(),{className:"rounded-lg",src:p,width:100,height:100,alt:""}),h&&"file"!==d&&(0,a.jsx)("div",{children:(0,a.jsx)(i(),{src:"".concat(l._n,"/").concat(h),width:100,height:100,alt:""})})]}),(null==c?void 0:c.type)==="required"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]})]})}},2985:function(e,t,s){"use strict";var a=s(9268);s(6006),t.Z=e=>{let{label:t,register:s,required:l,name:r,minLength:i,maxLength:n,errors:d,valueAsNumber:o,type:c="text",readOnly:u,placeholder:x,autoComplete:m="on",addClass:h,value:p}=e;return(0,a.jsxs)("div",{className:h,children:[(0,a.jsx)("label",{htmlFor:r,className:"text-sm font-medium text-gray-700 tracking-wide",children:t}),l&&(0,a.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",type:c,id:r,readOnly:u,placeholder:x,autoComplete:m,...s(r,{required:l,minLength:i,maxLength:n,valueAsNumber:o}),value:p})}),(null==d?void 0:d.type)==="required"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==d?void 0:d.type)==="minLength"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",i," karakter"]}),(null==d?void 0:d.type)==="maxLength"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",n," karakter"]}),(null==d?void 0:d.type)==="pattern"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]})]})}},7808:function(e,t,s){"use strict";var a=s(9268);s(6006);var l=s(8136);t.Z=e=>{let{showModal:t,setShowModal:s,children:r,title:i,width:n=""}=e;return(0,a.jsx)("div",{className:"",children:t&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 mx-auto flex justify-center bg-black/[0.2]",children:(0,a.jsxs)("div",{className:"bg-white p-5 rounded-xl w-[500px] h-min mt-[10%] max-h-[70%] overflow-hidden flex flex-col lg:w-[700px]",style:{width:n},children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-primary/[0.2] mb-4 pb-2",children:[(0,a.jsx)("h5",{className:"text-xl font-roboto",children:i}),(0,a.jsx)(l.C7Q,{className:"cursor-pointer hover:text-primary",onClick:()=>s(!1)})]}),(0,a.jsx)("div",{className:"overflow-auto",children:r})]})})})}},686:function(e,t,s){"use strict";var a=s(9268);s(6006);var l=s(8136);t.Z=e=>{let{showDel:t,setShowDel:s,setDelete:r}=e;return t&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"fixed inset-0 z-50 mx-auto flex justify-center bg-black/[0.2]",children:(0,a.jsxs)("div",{className:"bg-white p-5 rounded-xl lg:ml-64 md:min-w-[500px] h-min mt-[20%] max-h-[70%] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-primary/[0.1] mb-4 pb-2",children:[(0,a.jsx)("h5",{className:"text-xl font-roboto",children:"Hapus Data"}),(0,a.jsx)(l.C7Q,{className:"cursor-pointer hover:text-black/[0.5]",onClick:()=>s(!1)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Apaka Anda Yakin Menghapus Data Ini?"}),(0,a.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,a.jsx)("button",{className:"hover:border hover:border-red-600 bg-red-600 w-20 py-2 rounded-xl text-white ",onClick:()=>r({isDelete:!0}),children:"Hapus"}),(0,a.jsx)("button",{className:"w-20 py-2 rounded-xl hover:border-b",onClick:()=>s(!1),children:"Batal"})]})]})]})})})}},4502:function(e,t,s){"use strict";var a=s(2561),l=s(4475),r=s(3415);let i=(0,a.Ue)((0,l.mW)((e,t)=>({dtProdi:[],setProdi:async t=>{let{page:s=1,limit:a=10,search:l}=t;try{let t=await (0,r.hi)({method:"get",url:"/prodi",params:{limit:a,page:s,search:l}});return e(e=>({...e,dtProdi:t.data})),{status:"berhasil",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setProdiAll:async t=>{let{search:s}=t;try{let t=await (0,r.hi)({method:"get",url:"/prodi/all",params:{search:s}});return e(e=>({...e,dtProdi:t.data})),{status:"berhasil",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=i},9442:function(e,t,s){"use strict";var a=s(8919);t.Z=e=>{let{event:t,position:s}=e;switch(t.type){case"success":a.ZP.success(t.message,{duration:4e3,position:s});break;case"error":a.ZP.error(t.message,{duration:4e3,position:s})}}}},function(e){e.O(0,[6680,4550,4288,1092,9700,3088,8119,9262,3554,9253,7698,1744],function(){return e(e.s=8239)}),_N_E=e.O()}]);