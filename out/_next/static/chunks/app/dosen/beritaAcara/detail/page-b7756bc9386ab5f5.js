(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3230],{8239:function(e,l,s){Promise.resolve().then(s.bind(s,5025))},5025:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return M}});var a=s(9268),t=s(6006),r=s(593),i=s(5437),n=s(3346),d=s(769),o=s(6008),c=e=>{let{setDelete:l,setEdit:s,search:c}=e,u=(0,o.useSearchParams)(),x=u.get("berita_acara_id")||"",{setDetBeritaAcara:m,dtDetBeritaAcara:h}=(0,d.Z)(),[p,j]=(0,t.useState)(1),[v,f]=(0,t.useState)(10),[g,b]=(0,t.useState)(!0),w=async()=>{await m({page:p,limit:v,search:c,berita_acara_id:x}),b(!1)};return(0,t.useEffect)(()=>(w(),()=>{}),[p,v]),(0,t.useEffect)(()=>{j(1),w()},[c]),(0,a.jsx)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:g?(0,a.jsx)(r.Z,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)(n.Z,{headTable:["No","Tgl. Pertemuan","Materi","Jumlah MHS","Sistem Belajar","Foto","Aksi"],tableBodies:["tgl","materi","jmlh_mhs","sistem","foto"],dataTable:h.data,page:p,limit:v,setEdit:s,setDelete:l,ubah:!0,hapus:!0})}),(null==h?void 0:h.last_page)>1&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(i.Z,{currentPage:null==h?void 0:h.current_page,totalPages:null==h?void 0:h.last_page,setPage:j})})]})})},u=s(366),x=s(2985),m=s(7808),h=s(9442),p=s(9700),j=s(9977),v=s.n(j),f=s(5326),g=s.n(f),b=e=>{let{control:l,required:s,name:t,errors:r,addClass:i,label:n,startDate:d,setStartDate:o,includeDateIntervals:c}=e;return(0,a.jsxs)("div",{className:i,children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700 tracking-wide block",children:[n,s&&(0,a.jsx)("span",{className:"ml-1 text-red-600",children:"*"})]}),(0,a.jsx)(p.Qr,{name:t,control:l,rules:{required:s},render:e=>{let{field:l}=e;return(0,a.jsx)(v(),{selected:d,onChange:e=>{if(e){o(e);let s=g()(e).format("YYYY-MM-DD");l.onChange(s)}else o(null),l.onChange("")},dateFormat:"dd/MM/yyyy",value:d||"",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"w-full border rounded-lg py-2 px-4",includeDateIntervals:c,placeholderText:"dd/mm/yyyy"})}}),(null==r?void 0:r.type)==="required"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[n," tidak boleh kosong"]})]})},w=s(63),y=s(1281);s(6760);var N=e=>{var l;let{register:s,errors:t,control:r,dtEdit:i,watch:n,setValue:d,showModal:o,tgl:c,setTgl:u,myFile:m,setMyFile:h}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b,{label:"Tgl. Berita Acara",name:"tgl",control:r,startDate:c,setStartDate:u,required:!0,errors:t.tgl,addClass:"col-span-4 lg:col-span-2",includeDateIntervals:[{start:(l=new Date,new Date(l.getTime()-6048e5)),end:new Date}]}),(0,a.jsx)(x.Z,{label:"Jumlah MHS",name:"jmlh_mhs",register:s,required:!0,errors:t.jmlh_mhs,type:"number",addClass:"col-span-4 lg:col-span-2"}),(0,a.jsx)(x.Z,{label:"Materi",name:"materi",register:s,required:!0,errors:t.materi,addClass:"col-span-4"}),(0,a.jsx)(y.u,{label:"Sistem Belajar",defaultOption:"Pilih Sistem Belajar",register:s,errors:t,name:"sistem",options:[{value:"Daring",label:"Daring"},{value:"Luring",label:"Luring"}],addClass:"col-span-4"}),(0,a.jsx)(w.Z,{label:"Foto",name:"foto",register:s,accept:"image/*",required:!0,errors:t.foto,addClass:"col-span-4",setValue:d,fileEdit:null==i?void 0:i.foto,myFile:m,setMyFile:h})]})},k=e=>{let{showModal:l,setShowModal:s,dtEdit:r}=e,i=(0,o.useSearchParams)(),n=i.get("berita_acara_id")||"",[c,j]=(0,t.useState)(new Date("01-01-1980")),[v,f]=(0,t.useState)(),{addData:g,updateData:b}=(0,d.Z)(),{register:w,handleSubmit:y,setValue:k,control:S,formState:{errors:D},watch:C}=(0,p.cI)(),_=()=>{k("id",""),k("materi",""),k("jmlh_mhs",""),k("tgl",""),k("foto",""),j(""),f(null)};(0,t.useEffect)(()=>{r?(k("id",r.id),k("materi",r.materi),k("jmlh_mhs",r.jmlh_mhs),k("tgl",r.tgl),j(new Date(r.tgl)),k("foto",r.foto),k("sistem",r.sistem)):_()},[l,r]);let Z=async e=>{if(e.berita_acara_id=n,console.log({row:e}),r){let{data:l}=await b(r.id,e);(0,h.Z)({event:l}),s(!1)}else{let{data:l}=await g(e);console.log({data:l}),(0,h.Z)({event:l}),(null==l?void 0:l.type)!=="success"||_()}};return(0,a.jsx)(m.Z,{title:"Form Dosen",showModal:l,setShowModal:s,children:(0,a.jsxs)("form",{onSubmit:y(Z),children:[(0,a.jsx)(x.Z,{name:"id",register:w,type:"hidden"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:(0,a.jsx)(N,{register:w,errors:D,dtEdit:r,control:S,watch:C,setValue:k,showModal:l,myFile:v,setMyFile:f,tgl:c,setTgl:j})}),(0,a.jsx)("div",{children:(0,a.jsx)(u.Z,{text:"Simpan",onClick:y(Z)})})]})})},S=s(686),D=s(8919),C=s(8350),_=s(3415),Z=s(1468),M=()=>{var e,l,s,i,n;let{removeData:x,showDetBeritaAcara:m}=(0,d.Z)(),{setShowJadwal:p,dtJadwal:j}=(0,Z.Z)(),v=(0,o.useSearchParams)(),f=v.get("berita_acara_id")||"",g=v.get("jadwal_id")||"",[b,w]=(0,t.useState)(!1),[y,N]=(0,t.useState)(!1),[M,E]=(0,t.useState)(),[F,T]=(0,t.useState)(),[P,q]=(0,t.useState)(""),[A,B]=(0,t.useState)(!1),L=async e=>{let{id:l,isDelete:s}=e;if(E(l),s){let{data:e}=await x(M);(0,h.Z)({event:e}),N(!1)}else N(!0)};return(0,t.useEffect)(()=>(p(g),()=>{}),[g,p]),(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(D.Toaster,{}),(0,a.jsx)(k,{dtEdit:F,showModal:b,setShowModal:w}),(0,a.jsx)(S.Z,{showDel:y,setShowDel:N,setDelete:L}),(0,a.jsxs)("div",{className:"mb-4 flex flex-col-reverse justify-between md:flex-row",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"w-32 inline-block uppercase",children:"Dosen"}),(0,a.jsxs)("span",{children:[": ",null==j?void 0:null===(e=j.dosen)||void 0===e?void 0:e.nama]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"w-32 inline-block uppercase",children:"KODE MK"}),(0,a.jsxs)("span",{children:[": ",null==j?void 0:null===(l=j.matkul)||void 0===l?void 0:l.kode]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"w-32 inline-block uppercase",children:"Mata Kuliah"}),(0,a.jsxs)("span",{children:[": ",null==j?void 0:null===(s=j.matkul)||void 0===s?void 0:s.nama]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"w-32 inline-block uppercase",children:"SKS/SMT/KLS"}),(0,a.jsxs)("span",{children:[": ",null==j?void 0:null===(i=j.matkul)||void 0===i?void 0:i.sks," / ",null==j?void 0:j.semester," T.A 2023/2024"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"w-32 inline-block uppercase",children:"Ruangan"}),(0,a.jsxs)("span",{children:[": ",null==j?void 0:null===(n=j.ruangan)||void 0===n?void 0:n.kode]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between self-start md:w-64",children:[A?(0,a.jsx)(r.Z,{}):(0,a.jsx)(u.Z,{text:"Cetak",addClass:"self-end bg-secondary",onClick:()=>{B(!0),window.open("".concat(_._n,"/pdf/berita-acara/").concat(f)),B(!1)}}),(0,a.jsx)(u.Z,{text:"Tambah Data",addClass:"self-end",onClick:()=>{w(!0),T(null)}})]})]}),(0,a.jsx)(C.Z,{placeholder:"Cari Data",onChange:e=>q(e)})]}),(0,a.jsx)(c,{setDelete:L,setEdit:e=>{w(!0),T(e)},search:P})]})}},63:function(e,l,s){"use strict";var a=s(9268),t=s(3415),r=s(6394),i=s.n(r),n=s(6006),d=s(5883),o=s.n(d);l.Z=e=>{let{label:l,register:s,required:r,name:d,errors:c,addClass:u,accept:x,setValue:m,fileEdit:h,myFile:p,setMyFile:j}=e,[v,f]=(0,n.useState)(),g=e=>new Promise(()=>{if(e){var l;let s=(null==e?void 0:null===(l=e.type)||void 0===l?void 0:l.split("/"))||[],a=s[0];if("image"!==a)return b(e);console.log({splitType:s}),o().imageFileResizer(e,1500,1500,s[1],80,0,e=>{b(e)},"file")}else b(null)}),b=e=>{var l;if(e){let l=new FileReader;l.readAsDataURL(e),l.onloadend=()=>{j(l.result)}}let s=(null==e?void 0:null===(l=e.type)||void 0===l?void 0:l.split("/"))||[];f(s[0]),m(d,e)};return(0,a.jsxs)("div",{className:u,children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:l}),r&&(0,a.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,a.jsx)("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",id:"fileInput",type:"file",accept:x,onChange:e=>{var l;let s=(null===(l=e.target)||void 0===l?void 0:l.files[0])||null;g(s)}}),(0,a.jsx)("input",{type:"hidden",id:l,...s(d,{required:r})}),(0,a.jsxs)("div",{className:"flex gap-4 mt-2",children:[p&&"image"===v&&(0,a.jsx)(i(),{className:"rounded-lg",src:p,width:100,height:100,alt:""}),h&&"file"!==d&&(0,a.jsx)("div",{children:(0,a.jsx)(i(),{src:"".concat(t._n,"/").concat(h),width:100,height:100,alt:""})})]}),(null==c?void 0:c.type)==="required"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[l," tidak boleh kosong"]})]})}},2985:function(e,l,s){"use strict";var a=s(9268);s(6006),l.Z=e=>{let{label:l,register:s,required:t,name:r,minLength:i,maxLength:n,errors:d,valueAsNumber:o,type:c="text",readOnly:u,placeholder:x,autoComplete:m="on",addClass:h,value:p,labelCss:j="text-gray-700"}=e;return(0,a.jsxs)("div",{className:h,children:[(0,a.jsx)("label",{htmlFor:r,className:"text-sm tracking-wide ".concat(j),children:l}),t&&(0,a.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("input",{className:"".concat(u&&"cursor-not-allowed bg-gray-100"," w-full text-base px-4 py-2 border text-gray-700 border-gray-300 rounded-lg focus:outline-none focus:border-secondary"),type:c,id:r,readOnly:u,placeholder:x,autoComplete:m,...s(r,{required:t,minLength:i,maxLength:n,valueAsNumber:o}),value:p})}),(null==d?void 0:d.type)==="required"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[l," tidak boleh kosong"]}),(null==d?void 0:d.type)==="minLength"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[l," tidak boleh kurang dari ",i," karakter"]}),(null==d?void 0:d.type)==="maxLength"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[l," tidak boleh lebih dari ",n," karakter"]}),(null==d?void 0:d.type)==="pattern"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[l," hanya boleh angka."]})]})}},7808:function(e,l,s){"use strict";var a=s(9268);s(6006);var t=s(8136);l.Z=e=>{let{showModal:l,setShowModal:s,children:r,title:i,width:n=""}=e;return(0,a.jsx)("div",{className:"",children:l&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 mx-auto flex justify-center bg-black/[0.2]",children:(0,a.jsxs)("div",{className:"bg-white p-5 rounded-xl w-[500px] h-min mt-[10%] max-h-[70%] overflow-hidden flex flex-col lg:w-[700px]",style:{width:n},children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-primary/[0.2] mb-4 pb-2",children:[(0,a.jsx)("h5",{className:"text-xl font-roboto",children:i}),(0,a.jsx)(t.C7Q,{className:"cursor-pointer hover:text-primary",onClick:()=>s(!1)})]}),(0,a.jsx)("div",{className:"overflow-auto",children:r})]})})})}},686:function(e,l,s){"use strict";var a=s(9268);s(6006);var t=s(8136);l.Z=e=>{let{showDel:l,setShowDel:s,setDelete:r}=e;return l&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"fixed inset-0 z-50 mx-auto flex justify-center bg-black/[0.2]",children:(0,a.jsxs)("div",{className:"bg-white p-5 rounded-xl lg:ml-64 md:min-w-[500px] h-min mt-[20%] max-h-[70%] overflow-auto",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-primary/[0.1] mb-4 pb-2",children:[(0,a.jsx)("h5",{className:"text-xl font-roboto",children:"Hapus Data"}),(0,a.jsx)(t.C7Q,{className:"cursor-pointer hover:text-black/[0.5]",onClick:()=>s(!1)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Apaka Anda Yakin Menghapus Data Ini?"}),(0,a.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,a.jsx)("button",{className:"hover:border hover:border-red-600 bg-red-600 w-20 py-2 rounded-xl text-white ",onClick:()=>r({isDelete:!0}),children:"Hapus"}),(0,a.jsx)("button",{className:"w-20 py-2 rounded-xl hover:border-b",onClick:()=>s(!1),children:"Batal"})]})]})]})})})}},1281:function(e,l,s){"use strict";s.d(l,{u:function(){return t}});var a=s(9268);s(6006);let t=e=>{let{label:l,register:s,required:t,name:r,placeholder:i,defaultOption:n,options:d=[],errors:o,addClass:c}=e;return(0,a.jsxs)("div",{className:c,children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:l}),t&&(0,a.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("select",{className:"w-full rounded-lg py-2 px-2 bg-white border border-gray-300 focus:outline-none focus:border-secondary",id:l,placeholder:i,...s(r,{required:t}),children:[(0,a.jsx)("option",{value:"",children:n}),d.map((e,l)=>(0,a.jsx)("option",{value:e.value,children:e.label},l))]})}),(null==o?void 0:o.type)==="required"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[l," tidak boleh kosong"]})]})}}},function(e){e.O(0,[6680,4550,4288,2772,1092,3088,3632,9276,9253,7698,1744],function(){return e(e.s=8239)}),_N_E=e.O()}]);