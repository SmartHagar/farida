(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9414],{890:function(e,a,t){Promise.resolve().then(t.bind(t,4711))},4711:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var l=t(9268),s=t(6006),r=t(8919),n=t(9700),i=t(6008),u=t(4407),d=t(1712),c=t(593),o=t(8136),h=t(5846),m=t.n(h),f=t(8668),j=t(3346),x=t(5437),b=e=>{let{setDelete:a,setEdit:t}=e,{setBeritaAcara:r,dtBeritaAcara:n}=(0,f.Z)(),[u,h]=(0,s.useState)(1),[b,g]=(0,s.useState)(10),[p,w]=(0,s.useState)(!0),v=(0,i.useSearchParams)(),_=v.get("cari")||"",k=v.get("semester")||"",S=v.get("tahun")||"",N=d.Z.get("dosen_id"),P=(0,s.useCallback)(async()=>{w(!0),await r({search:_,tahun:S,semester:k,dosen_id:N}),w(!1)},[N,_,k,r,S]);return(0,s.useEffect)(()=>{k&&S&&N&&P()},[N,P,k,S]),(0,l.jsx)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:p?(0,l.jsx)(c.Z,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"",children:(0,l.jsx)(j.Z,{headTable:["No","Hari","Mata Kuliah","Kode MK","JML. SKS","Prodi","Aksi"],tableBodies:["jadwal.hari","jadwal.matkul.nama","jadwal.matkul.kode","jadwal.matkul.sks","jadwal.prodi.singkat"],dataTable:null==n?void 0:n.data,page:u,limit:b,setEdit:t,setDelete:a,hapus:!1,ubah:!1,costume:e=>(0,l.jsx)(m(),{href:"/dosen/beritaAcara/detail?berita_acara_id=".concat(null==e?void 0:e.id,"&jadwal_id=").concat(null==e?void 0:e.jadwal_id),target:"_blank",title:"Lihat Detail",children:(0,l.jsx)(o.LSF,{})})})}),(null==n?void 0:n.last_page)>1&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(x.Z,{currentPage:null==n?void 0:n.current_page,totalPages:null==n?void 0:n.last_page,setPage:h})})]})})},g=t(9247),p=t(7304),w=t(9099),v=()=>{let e=(0,i.useRouter)(),a=(0,i.useSearchParams)(),[t,d]=(0,s.useState)(),{register:c,control:o,formState:{errors:h},watch:m,setValue:f}=(0,n.cI)(),j=m("tahun"),x=m("semester"),v=a.get("tahun"),_=a.get("semester");return(0,s.useEffect)(()=>{if(v||_)f("tahun",parseInt(v||"")),f("semester",_);else{let a=new Date().getFullYear(),t=(0,w.w)().month()+1,l=t>6?"Ganjil":"Genap";f("tahun",a),f("semester",l),e.push("/dosen/beritaAcara/daftar?tahun="+a+"&semester="+l)}return()=>{}},[]),(0,s.useEffect)(()=>(j&&x&&e.push("/dosen/beritaAcara/daftar?tahun="+j+"&semester="+x),()=>{}),[j,x]),(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(r.Toaster,{}),(0,l.jsx)("div",{className:"mb-4 flex justify-center",children:(0,l.jsx)("p",{children:"Data berita acara"})}),(0,l.jsxs)("div",{className:"mb-4 flex justify-between gap-4",children:[(0,l.jsx)(g.Z,{label:"Semester",placeholder:"Pilih Semester",control:o,errors:h,name:"semester",options:[{value:"Ganjil",label:"Ganjil"},{value:"Genap",label:"Genap"}],addClass:"w-full"}),(0,l.jsx)(u.Z,{label:"Tahun",name:"tahun",placeholder:"Pilih Tahun",start:new Date().getFullYear()-2,end:new Date().getFullYear(),fromMax:!0,control:o,required:!0,errors:h,addClass:"w-full"})]}),(0,l.jsx)(p.Z,{placeholder:"Cari ".concat("Berita Acara"),name:"cari",register:c,setValue:f,watch:m})]}),(0,l.jsx)(b,{setEdit:e=>{d(e)}})]})}}},function(e){e.O(0,[6680,4550,4288,1053,831,5243,5846,4421,9253,7698,1744],function(){return e(e.s=890)}),_N_E=e.O()}]);