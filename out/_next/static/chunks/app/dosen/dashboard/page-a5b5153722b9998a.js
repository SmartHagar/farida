(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8125],{7246:function(a,e,t){Promise.resolve().then(t.bind(t,6752))},6752:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return k}});var l=t(9268),s=t(2173),r=t(6006),n=t(1778),d=t(8136),i=t(3770),u=t(593),o=t(6008),c=t(5326),m=t.n(c),h=a=>{let{headTable:e,dataTable:t,limit:s,page:r}=a;return(0,l.jsxs)("table",{className:"w-full border-collapse text-left",children:[(0,l.jsx)("thead",{className:"",children:(0,l.jsx)("tr",{children:e&&e.map((a,e)=>(0,l.jsx)("th",{scope:"col",className:"px-6 py-4",children:a},e))})}),(0,l.jsx)("tbody",{className:"divide-y divide-gray-100 border-t border-gray-100 ",children:t&&t.map((a,e)=>{let t=!a.rps||!a.berita_acara||!a.absen||!a.nilai,s=[!a.rps&&"RPS",!a.berita_acara&&"BERITA ACARA",!a.absen&&"ABSEN",!a.nilai&&"NILAI"].filter(Boolean);return t&&(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:s.join(", ")}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:a.hari}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:[m()(a.mulai,"HH:mm:ss").format("HH:mm")," -",m()(a.seles,"HH:mm:ss").format("HH:mm")]}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:a.matkul.nama})]},e)})})]})},x=t(1712),p=t(2775),f=t(9947),v=t(9114),g=t(4803),j=t(1468),w=t(2766),b=a=>{let{tahun:e,semester:t}=a;(0,o.useSearchParams)(),(0,o.usePathname)();let{setShowAbsen:s,showAbsen:n}=(0,p.Z)(),{setShowNilai:d,showNilai:i}=(0,f.Z)(),{setShowBeritaAcara:c,showBeritaAcara:m}=(0,v.Z)(),{setShowRps:b,showRps:N}=(0,g.Z)(),{setJadwalByDosenFull:y,dtJadwal:S}=(0,j.Z)(),[k,_]=(0,r.useState)(1),[Z,A]=(0,r.useState)(10),[J,D]=(0,r.useState)(!0),[C,E]=(0,r.useState)(""),[I,M]=(0,r.useState)(!1),[F,H]=(0,r.useState)(),O=x.Z.get("dosen_id")||"",R=async()=>{D(!0),await y({search:C,tahun:e,semester:t,dosen_id:O}),D(!1)};(0,r.useMemo)(()=>e&&t&&R(),[e,t,O]),(0,r.useEffect)(()=>{(0,w.Ow)({dtJadwal:null==S?void 0:S.data,setShowAbsen:s}),(0,w.z9)({dtJadwal:null==S?void 0:S.data,setShowNilai:d}),(0,w.iq)({dtJadwal:null==S?void 0:S.data,setShowBeritaAcara:c}),(0,w.cA)({dtJadwal:null==S?void 0:S.data,setShowRps:b})},[JSON.stringify(S)]);let V=(a,e,t,l,s)=>{D(!0);let r=null==a?void 0:a.map(a=>{let r=null==e?void 0:e.find(e=>parseInt(e.jadwal_id)===a.id),n=null==t?void 0:t.find(e=>parseInt(e.jadwal_id)===a.id),d=null==l?void 0:l.find(e=>parseInt(e.berita_acara.jadwal_id)===a.id),i=null==s?void 0:s.find(e=>parseInt(e.jadwal_id)===a.id);return{...a,nilai:n,absen:r,berita_acara:d,rps:i}}).filter(a=>null!==a);H({data:r}),D(!1)};return(0,r.useEffect)(()=>{var a;console.log({dtJadwal:S}),(null==S?void 0:null===(a=S.data)||void 0===a?void 0:a.length)>0&&V(null==S?void 0:S.data,n,i,m,N)},[JSON.stringify(n),JSON.stringify(null==S?void 0:S.data),JSON.stringify(i),JSON.stringify(m),JSON.stringify(N)]),(0,r.useEffect)(()=>{let a=(null==F?void 0:F.data)&&(null==F?void 0:F.data.filter(a=>{var e;return!a.rps||!(null===(e=a.berita_acara)||void 0===e?void 0:e.uload_berita_acara)||!a.absen||!a.nilai}));return a&&a.length>0?M(!0):M(!1),()=>{}},[null==F?void 0:F.data]),(0,l.jsx)("div",{className:"flex flex-col",children:J?(0,l.jsx)(u.Z,{}):I&&(0,l.jsxs)("div",{className:" mb-4",children:[(0,l.jsx)("p",{children:"Beberapa dokumen yang belum dilengkapi"}),(0,l.jsx)("div",{className:"overflow-auto",children:(0,l.jsx)("div",{className:"",children:(0,l.jsx)(h,{headTable:["Tidak Ada","Hari","Jam","Mata Kuliah"],dataTable:null==F?void 0:F.data,page:k,limit:Z})})})]})})},N=t(3222),y=t(3827),S=t(9700),k=a=>{var e,t,u;let{setRuanganAll:o,dtRuangan:c}=(0,N.Z)(),{setMatkulAll:m,dtMatkul:h}=(0,s.Z)(),{setDosenAll:x,dtDosenAll:p}=(0,y.Z)(),[f,v]=(0,r.useState)(""),[g,j]=(0,r.useState)("");(0,r.useEffect)(()=>{o({search:""}),m({search:""}),x({search:""})},[]);let{register:w,control:k,formState:{errors:_},watch:Z,setValue:A}=(0,S.cI)();return(0,r.useEffect)(()=>{let a=new Date().getFullYear(),e=new Date().getMonth();return v(a),j(e>6?"Ganjil":"Genap"),()=>{}},[]),(0,l.jsxs)("div",{className:"h-full w-full overflow-auto",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("p",{className:"text-lg text-center tracking-[0.2rem]",children:"SILAKU"}),(0,l.jsx)("p",{className:"text-center text-sm text-font-1",children:"(Sistem Informasi Perkuliahan Fakultas Sains & Teknologi)"})]}),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(b,{tahun:f,semester:g})}),(0,l.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[(0,l.jsxs)("div",{className:"flex flex-col bg-primary/10 p-4 px-8 rounded-md gap-1",children:[(0,l.jsx)(d.DC2,{className:"text-2xl text-primary"}),(0,l.jsx)(i.Z,{endValue:null==c?void 0:null===(e=c.data)||void 0===e?void 0:e.length,addClass:"text-2xl",animationConfig:n.vc.slow}),(0,l.jsx)("h6",{children:"Jumlah Ruangan"})]}),(0,l.jsxs)("div",{className:"flex flex-col bg-secondary/10 p-4 px-8 rounded-md gap-1",children:[(0,l.jsx)(d.pZ5,{className:"text-2xl text-secondary"}),(0,l.jsx)(i.Z,{endValue:null==h?void 0:null===(t=h.data)||void 0===t?void 0:t.length,addClass:"text-2xl",animationConfig:n.vc.slow}),(0,l.jsx)("h6",{children:"Jumlah Matkul"})]}),(0,l.jsxs)("div",{className:"flex flex-col bg-warning/10 p-4 px-8 rounded-md gap-1",children:[(0,l.jsx)(d.z8x,{className:"text-2xl text-warning"}),(0,l.jsx)(i.Z,{endValue:null==p?void 0:null===(u=p.data)||void 0===u?void 0:u.length,addClass:"text-2xl",animationConfig:n.vc.slow}),(0,l.jsx)("h6",{children:"Jumlah Dosen"})]})]})]})}},3770:function(a,e,t){"use strict";var l=t(9268),s=t(1778);t(6006),e.Z=a=>{let{endValue:e,animationConfig:t,addClass:r}=a,[n,d]=(0,s.YD)({once:!0}),i=(0,s.q_)({number:d?e:0,from:{number:0},config:t,delay:1e3});return(0,l.jsx)(s.q.span,{ref:n,className:r,children:i.number.to(a=>Math.floor(a))})}},3827:function(a,e,t){"use strict";var l=t(2561),s=t(4475),r=t(3415);let n=(0,l.Ue)((0,s.mW)((a,e)=>({dtDosen:[],dtDosenAll:[],setDosen:async e=>{let{page:t=1,limit:l=10,search:s}=e;try{let e=await (0,r.VF)({method:"get",url:"/dosen",params:{limit:l,page:t,search:s}});return a(a=>({...a,dtDosen:e.data.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}},setDosenAll:async e=>{let{search:t,prodi_id:l}=e;try{let e=await (0,r.VF)({method:"get",url:"/dosen/all",params:{search:t,prodi_id:l}});return a(a=>({...a,dtDosenAll:e.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}}})));e.Z=n},2173:function(a,e,t){"use strict";var l=t(2561),s=t(4475),r=t(3415);let n=(0,l.Ue)((0,s.mW)((a,e)=>({dtMatkul:[],setMatkul:async e=>{let{page:t=1,limit:l=10,search:s}=e;try{let e=await (0,r.VF)({method:"get",url:"/matkul",params:{limit:l,page:t,search:s}});return a(a=>({...a,dtMatkul:e.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}},setMatkulAll:async e=>{let{search:t}=e;try{let e=await (0,r.VF)({method:"get",url:"/matkul/all",params:{search:t}});return a(a=>({...a,dtMatkul:e.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}}})));e.Z=n},3222:function(a,e,t){"use strict";var l=t(2561),s=t(4475),r=t(3415);let n=(0,l.Ue)((0,s.mW)((a,e)=>({dtRuangan:[],setRuangan:async e=>{let{page:t=1,limit:l=10,search:s}=e;try{let e=await (0,r.VF)({method:"get",url:"/ruangan",params:{limit:l,page:t,search:s}});return a(a=>({...a,dtRuangan:e.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}},setRuanganAll:async e=>{let{search:t}=e;try{let e=await (0,r.VF)({method:"get",url:"/ruangan/all",params:{search:t}});return a(a=>({...a,dtRuangan:e.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}}})));e.Z=n}},function(a){a.O(0,[6680,4550,4288,2772,1282,484,9253,7698,1744],function(){return a(a.s=7246)}),_N_E=a.O()}]);