(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8125],{4215:function(e,a,t){!function(e){e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,a){return(12===e&&(e=0),"pagi"===a)?e:"siang"===a?e>=11?e:e+12:"sore"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,t){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(t(5326))},5154:function(e,a,t){Promise.resolve().then(t.bind(t,7463))},7463:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return N}});var r=t(9268),s=t(2173),n=t(6006),l=t(1778),i=t(8136),d=t(3770),u=t(3222),o=t(3827),c=t(1712),m=t(5858),h=t(1852),p=t(9247),x=t(4407),f=t(9700),g=e=>{let{halaman:a}=e,{register:t,formState:{errors:s},setValue:n,watch:l,control:i}=(0,f.cI)(),d=l("semester"),u=l("year");return(0,r.jsxs)("div",{className:"grid grid-cols-8 gap-2 w-full",children:[(0,r.jsx)(h.Z,{setValue:n,yearWatch:u,time:1e3}),(0,r.jsx)(m.Z,{setValue:n,semesterWatch:d,time:500}),(0,r.jsx)(p.Z,{placeholder:"Pilih Semester",control:i,name:"semester",options:[{value:"Ganjil",label:"Ganjil"},{value:"Genap",label:"Genap"}],errors:s.semester,addClass:"col-span-8 md:col-span-2 text-black",menuPosition:"absolute"}),(0,r.jsx)(x.Z,{name:"year",placeholder:"Pilih Tahun",start:new Date().getFullYear()-2,end:new Date().getFullYear(),fromMax:!0,control:i,addClass:"col-span-8 md:col-span-2 text-black",menuPosition:"absolute"})]})},v=t(593),b=t(1177),j=t(6008),y=t(5326),_=t.n(y),w=e=>{let{headTable:a,dataTable:t}=e;return(0,r.jsxs)("table",{className:"w-full border-collapse text-left",children:[(0,r.jsx)("thead",{className:"",children:(0,r.jsx)("tr",{children:a&&a.map((e,a)=>(0,r.jsx)("th",{scope:"col",className:"px-6 py-4",children:e},a))})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-100 border-t border-gray-100 ",children:t&&t.map((e,a)=>{var t,s;let n=(null===(t=e.rps)||void 0===t?void 0:t.status)!=="diterima"||!e.absen||!e.nilai,l=[(null===(s=e.rps)||void 0===s?void 0:s.status)!=="diterima"&&"RPS",!e.absen&&"ABSEN",!e.nilai&&"NILAI"].filter(Boolean);return n&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:l.join(", ")}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:e.hari}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:[_()(e.mulai,"HH:mm:ss").format("HH:mm")," -",_()(e.seles,"HH:mm:ss").format("HH:mm")]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:e.matkul.nama})]},a)})})]})},k=e=>{let{dosen_id:a}=e,{setKelengkapan:t,dtKelengkapan:s}=(0,b.Z)(),[l,i]=(0,n.useState)(!0),[d,u]=(0,n.useState)(!1),o=(0,j.useSearchParams)(),c=o.get("cari")||"",m=o.get("semester")||"",h=o.get("year")||"",p=(0,n.useCallback)(async()=>{i(!0),await t({dosen_id:a,search:c,semester:m,tahun:h}),i(!1)},[a,c,m,t,h]);return(0,n.useEffect)(()=>{h&&m&&a&&p()},[a,p,m,h]),(0,n.useEffect)(()=>{var e;let a=null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.every(e=>{var a;return(null===(a=e.rps)||void 0===a?void 0:a.status)!=="diterima"&&null!==e.absen&&null!==e.nilai});u(a)},[null==s?void 0:s.data]),(0,r.jsx)("div",{className:"flex flex-col",children:l?(0,r.jsx)(v.Z,{}):(0,r.jsx)("div",{className:" mb-4",children:d?(0,r.jsx)("p",{children:"Data Telah Dilengkapi"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Beberapa dokumen yang belum dilengkapi"}),(0,r.jsx)("div",{className:"overflow-auto",children:(0,r.jsx)("div",{className:"",children:(0,r.jsx)(w,{headTable:["Tidak Ada","Hari","Jam","Mata Kuliah"],dataTable:null==s?void 0:s.data})})})]})})})},N=e=>{var a,t,m;let{setRuanganAll:h,dtRuangan:p}=(0,u.Z)(),{setMatkulAll:x,dtMatkul:f}=(0,s.Z)(),{setDosenAll:v,dtDosenAll:b}=(0,o.Z)(),[j,y]=(0,n.useState)([]),_=parseInt(c.Z.get("dosen_id"))||"";return(0,n.useEffect)(()=>{h({search:""}),x({search:""}),v({search:""})},[v,x,h]),(0,n.useEffect)(()=>{var e;let a=null==b?void 0:null===(e=b.data)||void 0===e?void 0:e.find(e=>e.id===_);return y(a),()=>{}},[_,b]),(0,r.jsxs)("div",{className:"h-full w-full overflow-auto",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-lg md:text-xl text-center tracking-[0.2rem]",children:"SILAKU"}),(0,r.jsx)("p",{className:"text-center text-sm md:text-base text-font-1",children:"(Sistem Informasi Laporan Perkuliahan)"}),(0,r.jsx)("p",{className:"text-center text-sm md:text-lg font-bold text-font-1",children:"Fakultas Sains & Teknologi"}),(0,r.jsx)("h5",{className:"text-center my-4",children:null==j?void 0:j.nm_dosen})]}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{halaman:"Dashboard"}),(0,r.jsx)(k,{dosen_id:_})]}),(0,r.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[(0,r.jsxs)("div",{className:"flex flex-col bg-primary/10 p-4 px-8 rounded-md gap-1",children:[(0,r.jsx)(i.DC2,{className:"text-2xl text-primary"}),(0,r.jsx)(d.Z,{endValue:null==p?void 0:null===(a=p.data)||void 0===a?void 0:a.length,addClass:"text-2xl",animationConfig:l.vc.slow}),(0,r.jsx)("h6",{children:"Jumlah Ruangan"})]}),(0,r.jsxs)("div",{className:"flex flex-col bg-secondary/10 p-4 px-8 rounded-md gap-1",children:[(0,r.jsx)(i.pZ5,{className:"text-2xl text-secondary"}),(0,r.jsx)(d.Z,{endValue:null==f?void 0:null===(t=f.data)||void 0===t?void 0:t.length,addClass:"text-2xl",animationConfig:l.vc.slow}),(0,r.jsx)("h6",{children:"Jumlah Matkul"})]}),(0,r.jsxs)("div",{className:"flex flex-col bg-warning/10 p-4 px-8 rounded-md gap-1",children:[(0,r.jsx)(i.z8x,{className:"text-2xl text-warning"}),(0,r.jsx)(d.Z,{endValue:null==b?void 0:null===(m=b.data)||void 0===m?void 0:m.length,addClass:"text-2xl",animationConfig:l.vc.slow}),(0,r.jsx)("h6",{children:"Jumlah Dosen"})]})]})]})}},3770:function(e,a,t){"use strict";var r=t(9268),s=t(1778);t(6006),a.Z=e=>{let{endValue:a,animationConfig:t,addClass:n}=e,[l,i]=(0,s.YD)({once:!0}),d=(0,s.q_)({number:i?a:0,from:{number:0},config:t,delay:1e3});return(0,r.jsx)(s.q.span,{ref:l,className:n,children:d.number.to(e=>Math.floor(e))})}},5858:function(e,a,t){"use strict";var r=t(9268),s=t(9099),n=t(6008),l=t(6006);a.Z=e=>{let{semesterWatch:a,setValue:t,time:i}=e,d=(0,n.useRouter)(),u=()=>{let e=window.location.href,a=new URL(e),t=new URLSearchParams(a.search),r=t.get("semester");return{url:a,params:t,semesterParams:r}},o=e=>{let{url:a,params:t}=u();t.delete("semester"),t.append("semester",e),a.search=t.toString(),d.push(a.toString())};return(0,l.useEffect)(()=>(setTimeout(()=>{let{semesterParams:e}=u();if(e)t("semester",e);else{let e=(0,s.w)().month()+1;t("semester",e>6?"Ganjil":"Genap")}},i),()=>{}),[]),(0,l.useEffect)(()=>(a?o(a.toString()):o(""),()=>{}),[a]),(0,r.jsx)(r.Fragment,{})}},1852:function(e,a,t){"use strict";var r=t(9268),s=t(6008),n=t(6006);a.Z=e=>{let{yearWatch:a,setValue:t,time:l}=e,i=(0,s.useRouter)(),d=()=>{let e=window.location.href,a=new URL(e),t=new URLSearchParams(a.search),r=t.get("year");return{url:a,params:t,yearParams:r}},u=e=>{let{url:a,params:t}=d();t.delete("year"),t.append("year",e.toString()),a.search=t.toString(),i.push(a.toString())};return(0,n.useEffect)(()=>(setTimeout(()=>{let{yearParams:e}=d();if(e)t("year",parseInt(e));else{let e=new Date().getFullYear();t("year",e)}},l),()=>{}),[]),(0,n.useEffect)(()=>(a?u(a.toString()):u(""),()=>{}),[a]),(0,r.jsx)(r.Fragment,{})}},593:function(e,a,t){"use strict";var r=t(9268);t(6006),a.Z=()=>(0,r.jsx)("div",{className:"w-12 h-12 rounded-full animate-spin border-y border-solid border-primary border-t-transparent shadow-md"})},9247:function(e,a,t){"use strict";var r=t(9268),s=t(6006),n=t(480),l=t(9700);a.Z=e=>{let{label:a,control:t,required:i,name:d,errors:u,addClass:o,menuPosition:c="fixed",placeholder:m="Pilih Tahun",options:h=[]}=e,[p,x]=(0,s.useState)(null);return(0,s.useEffect)(()=>{"undefined"!=typeof document&&x(document.body)},[]),(0,r.jsxs)("div",{className:o,children:[a&&(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:a}),i&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),p&&(0,r.jsx)(l.Qr,{name:d,control:t,rules:{required:i},render:e=>{let{field:{onChange:a,value:t,name:s,ref:l}}=e;return(0,r.jsx)(n.ZP,{isClearable:!0,isSearchable:!0,options:h,placeholder:m,menuPosition:c,ref:l,value:t?h.find(e=>e.value===t):t,onChange:e=>a(e?e.value:e),menuPlacement:"auto",menuPortalTarget:document.body})}}),(null==u?void 0:u.type)==="required"&&(0,r.jsx)("p",{className:"text-red-500 font-inter italic text-sm",children:"Tahun tidak boleh kosong"})]})}},4407:function(e,a,t){"use strict";var r=t(9268),s=t(6006),n=t(480),l=t(5326),i=t.n(l),d=t(9700);a.Z=e=>{let{label:a,start:t=2012,end:l=i()().format("YYYY"),control:u,required:o,name:c,errors:m,addClass:h,menuPosition:p="fixed",placeholder:x="Pilih Tahun",fromMax:f=!1}=e,g=()=>{let e=[];if(f)for(let a=l;a>=t;a--)e.push({value:a,label:a});else for(let a=t;a<=l;a++)e.push({value:a,label:a});return e},[v,b]=(0,s.useState)(null);return(0,s.useEffect)(()=>{"undefined"!=typeof document&&b(document.body)},[]),(0,r.jsxs)("div",{className:h,children:[a&&(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:a}),o&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),v&&(0,r.jsx)(d.Qr,{name:c,control:u,rules:{required:o},render:e=>{let{field:{onChange:a,value:t,name:s,ref:l}}=e;return(0,r.jsx)(n.ZP,{isClearable:!0,isSearchable:!0,options:g(),placeholder:x,menuPosition:p,ref:l,value:t?g().find(e=>e.value===t):t,onChange:e=>a(e?e.value:e)})}}),(null==m?void 0:m.type)==="required"&&(0,r.jsx)("p",{className:"text-red-500 font-inter italic text-sm",children:"Tahun tidak boleh kosong"})]})}},3415:function(e,a,t){"use strict";t.d(a,{I8:function(){return n},Sj:function(){return l},_n:function(){return s},cB:function(){return d},hi:function(){return i}});var r=t(4214);let s="http://127.0.0.1:8000",n=r.Z.create({baseURL:"".concat(s,"/auth")}),l=r.Z.create({baseURL:"".concat(s,"/crud")}),i=r.Z.create({baseURL:"".concat(s,"/api")});r.Z.create({baseURL:"".concat(s,"/storage")});let d=r.Z.create({baseURL:"".concat("http://127.0.0.1:8010","/api")})},3827:function(e,a,t){"use strict";var r=t(2561),s=t(4475),n=t(3415);let l=(0,r.Ue)((0,s.mW)((e,a)=>({dtDosen:[],dtDosenAll:[],setDosen:async a=>{let{page:t=1,limit:r=10,search:s}=a;try{let a=await (0,n.cB)({method:"get",url:"/dosen",params:{limit:r,page:t,search:s}});return e(e=>({...e,dtDosen:a.data.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}},setDosenAll:async a=>{let{search:t,prodi_id:r}=a;try{let a=await (0,n.cB)({method:"get",url:"/dosen/all",params:{search:t,prodi_id:r}});return e(e=>({...e,dtDosenAll:a.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}},setShowDosen:async a=>{try{let t=await (0,n.cB)({method:"get",url:"/dosen/".concat(a)});return e(e=>({...e,showDosen:t.data.data})),{status:"berhasil",data:t.data}}catch(e){var t;return{status:"error",error:null===(t=e.response)||void 0===t?void 0:t.data}}}})));a.Z=l},1177:function(e,a,t){"use strict";var r=t(2561),s=t(4475),n=t(3415);let l=(0,r.Ue)((0,s.mW)((e,a)=>({dtKelengkapan:[],setKelengkapan:async a=>{let{search:t,dosen_id:r,tahun:s,semester:l,prodi_id:i}=a;try{let a=await (0,n.hi)({method:"get",url:"/kelengkapan",params:{search:t,dosen_id:r,tahun:s,semester:l,prodi_id:i}});return e(e=>({...e,dtKelengkapan:a.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}}})));a.Z=l},2173:function(e,a,t){"use strict";var r=t(2561),s=t(4475),n=t(3415);let l=(0,r.Ue)((0,s.mW)((e,a)=>({dtMatkul:[],setMatkul:async a=>{let{page:t=1,limit:r=10,search:s}=a;try{let a=await (0,n.cB)({method:"get",url:"/matkul",params:{limit:r,page:t,search:s}});return e(e=>({...e,dtMatkul:a.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}},setMatkulAll:async a=>{let{search:t}=a;try{let a=await (0,n.cB)({method:"get",url:"/matkul/all",params:{search:t}});return e(e=>({...e,dtMatkul:a.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}}})));a.Z=l},3222:function(e,a,t){"use strict";var r=t(2561),s=t(4475),n=t(3415);let l=(0,r.Ue)((0,s.mW)((e,a)=>({dtRuangan:[],setRuangan:async a=>{let{page:t=1,limit:r=10,search:s}=a;try{let a=await (0,n.cB)({method:"get",url:"/ruangan",params:{limit:r,page:t,search:s}});return e(e=>({...e,dtRuangan:a.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}},setRuanganAll:async a=>{let{search:t}=a;try{let a=await (0,n.cB)({method:"get",url:"/ruangan/all",params:{search:t}});return e(e=>({...e,dtRuangan:a.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}}})));a.Z=l},9099:function(e,a,t){"use strict";t.d(a,{w:function(){return s.a}});var r=t(5326),s=t.n(r);t(4215)},6008:function(e,a,t){e.exports=t(4e3)},480:function(e,a,t){"use strict";t.d(a,{ZP:function(){return i}});var r=t(9711),s=t(431),n=t(6006),l=t(8727);t(3779),t(8431),t(9855);var i=(0,n.forwardRef)(function(e,a){var t=(0,r.u)(e);return n.createElement(l.S,(0,s.Z)({ref:a},t))})}},function(e){e.O(0,[6680,4550,4288,1053,5243,1778,9253,7698,1744],function(){return e(e.s=5154)}),_N_E=e.O()}]);