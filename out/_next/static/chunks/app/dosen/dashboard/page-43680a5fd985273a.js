(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8125],{5154:function(a,e,t){Promise.resolve().then(t.bind(t,6752))},6752:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return S}});var l=t(9268),s=t(2173),r=t(6006),n=t(1778),d=t(8136),i=t(3770),u=t(593),o=t(5326),c=t.n(o),m=a=>{let{headTable:e,dataTable:t,limit:s,page:r}=a;return(0,l.jsxs)("table",{className:"w-full border-collapse text-left",children:[(0,l.jsx)("thead",{className:"",children:(0,l.jsx)("tr",{children:e&&e.map((a,e)=>(0,l.jsx)("th",{scope:"col",className:"px-6 py-4",children:a},e))})}),(0,l.jsx)("tbody",{className:"divide-y divide-gray-100 border-t border-gray-100 ",children:t&&t.map((a,e)=>{let t=!a.rps||!a.berita_acara||!a.absen||!a.nilai,s=[!a.rps&&"RPS",!a.berita_acara&&"BERITA ACARA",!a.absen&&"ABSEN",!a.nilai&&"NILAI"].filter(Boolean);return t&&(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:s.join(", ")}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:a.hari}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:[c()(a.mulai,"HH:mm:ss").format("HH:mm")," -",c()(a.seles,"HH:mm:ss").format("HH:mm")]}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:a.matkul.nama})]},e)})})]})},x=t(1712),h=t(2775),p=t(9947),f=t(9114),v=t(4803),g=t(1468),j=t(2766),w=a=>{let{tahun:e,semester:t}=a,{setShowAbsen:s,showAbsen:n}=(0,h.Z)(),{setShowNilai:d,showNilai:i}=(0,p.Z)(),{setShowBeritaAcara:o,showBeritaAcara:c}=(0,f.Z)(),{setShowRps:w,showRps:b}=(0,v.Z)(),{setJadwalByDosenFull:N,dtJadwal:y}=(0,g.Z)(),[S,k]=(0,r.useState)(1),[_,Z]=(0,r.useState)(10),[A,J]=(0,r.useState)(!0),[D,E]=(0,r.useState)(""),[I,C]=(0,r.useState)(!1),[M,F]=(0,r.useState)(),H=x.Z.get("dosen_id")||"",O=async()=>{J(!0),await N({search:D,tahun:e,semester:t,dosen_id:H}),J(!1)};(0,r.useMemo)(()=>e&&t&&O(),[e,t,H]),(0,r.useEffect)(()=>{(0,j.Ow)({dtJadwal:null==y?void 0:y.data,setShowAbsen:s}),(0,j.z9)({dtJadwal:null==y?void 0:y.data,setShowNilai:d}),(0,j.iq)({dtJadwal:null==y?void 0:y.data,setShowBeritaAcara:o}),(0,j.cA)({dtJadwal:null==y?void 0:y.data,setShowRps:w})},[JSON.stringify(y)]);let R=(a,e,t,l,s)=>{J(!0);let r=null==a?void 0:a.map(a=>{let r=null==e?void 0:e.find(e=>parseInt(e.jadwal_id)===a.id),n=null==t?void 0:t.find(e=>parseInt(e.jadwal_id)===a.id),d=null==l?void 0:l.find(e=>parseInt(e.berita_acara.jadwal_id)===a.id),i=null==s?void 0:s.find(e=>parseInt(e.jadwal_id)===a.id);return{...a,nilai:n,absen:r,berita_acara:d,rps:i}}).filter(a=>null!==a);F({data:r}),J(!1)};return(0,r.useEffect)(()=>{var a;console.log({dtJadwal:y}),(null==y?void 0:null===(a=y.data)||void 0===a?void 0:a.length)>0&&R(null==y?void 0:y.data,n,i,c,b)},[JSON.stringify(n),JSON.stringify(null==y?void 0:y.data),JSON.stringify(i),JSON.stringify(c),JSON.stringify(b)]),(0,r.useEffect)(()=>{let a=(null==M?void 0:M.data)&&(null==M?void 0:M.data.filter(a=>{var e;return!a.rps||!(null===(e=a.berita_acara)||void 0===e?void 0:e.uload_berita_acara)||!a.absen||!a.nilai}));return a&&a.length>0?C(!0):C(!1),()=>{}},[null==M?void 0:M.data]),(0,l.jsx)("div",{className:"flex flex-col",children:A?(0,l.jsx)(u.Z,{}):I&&(0,l.jsxs)("div",{className:" mb-4",children:[(0,l.jsx)("p",{children:"Beberapa dokumen yang belum dilengkapi"}),(0,l.jsx)("div",{className:"overflow-auto",children:(0,l.jsx)("div",{className:"",children:(0,l.jsx)(m,{headTable:["Tidak Ada","Hari","Jam","Mata Kuliah"],dataTable:null==M?void 0:M.data,page:S,limit:_})})})]})})},b=t(3222),N=t(3827),y=t(9700),S=a=>{var e,t,u,o;let{setRuanganAll:c,dtRuangan:m}=(0,b.Z)(),{setMatkulAll:h,dtMatkul:p}=(0,s.Z)(),{setDosenAll:f,dtDosenAll:v}=(0,N.Z)(),[g,j]=(0,r.useState)(""),[S,k]=(0,r.useState)(""),[_,Z]=(0,r.useState)([]),A=x.Z.get("dosen_id")||"";(0,r.useEffect)(()=>{c({search:""}),h({search:""}),f({search:""})},[]);let{register:J,control:D,formState:{errors:E},watch:I,setValue:C}=(0,y.cI)();return(0,r.useEffect)(()=>{let a=new Date().getFullYear(),e=new Date().getMonth();return j(a),k(e>6?"Ganjil":"Genap"),()=>{}},[]),(0,r.useEffect)(()=>{var a;let e=null==v?void 0:null===(a=v.data)||void 0===a?void 0:a.find(a=>a.id===parseInt(A));return Z(e),()=>{}},[A,v]),console.log({dtDosenAll:v}),(0,l.jsxs)("div",{className:"h-full w-full overflow-auto",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("p",{className:"text-lg md:text-xl text-center tracking-[0.2rem]",children:"SILAKU"}),(0,l.jsx)("p",{className:"text-center text-sm md:text-base text-font-1",children:"(Sistem Informasi Perkuliahan Fakultas Sains & Teknologi)"}),(0,l.jsxs)("h5",{className:"text-center my-4",children:["Prodi ",null==_?void 0:null===(e=_.prodi)||void 0===e?void 0:e.nama]})]}),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(w,{tahun:g,semester:S})}),(0,l.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[(0,l.jsxs)("div",{className:"flex flex-col bg-primary/10 p-4 px-8 rounded-md gap-1",children:[(0,l.jsx)(d.DC2,{className:"text-2xl text-primary"}),(0,l.jsx)(i.Z,{endValue:null==m?void 0:null===(t=m.data)||void 0===t?void 0:t.length,addClass:"text-2xl",animationConfig:n.vc.slow}),(0,l.jsx)("h6",{children:"Jumlah Ruangan"})]}),(0,l.jsxs)("div",{className:"flex flex-col bg-secondary/10 p-4 px-8 rounded-md gap-1",children:[(0,l.jsx)(d.pZ5,{className:"text-2xl text-secondary"}),(0,l.jsx)(i.Z,{endValue:null==p?void 0:null===(u=p.data)||void 0===u?void 0:u.length,addClass:"text-2xl",animationConfig:n.vc.slow}),(0,l.jsx)("h6",{children:"Jumlah Matkul"})]}),(0,l.jsxs)("div",{className:"flex flex-col bg-warning/10 p-4 px-8 rounded-md gap-1",children:[(0,l.jsx)(d.z8x,{className:"text-2xl text-warning"}),(0,l.jsx)(i.Z,{endValue:null==v?void 0:null===(o=v.data)||void 0===o?void 0:o.length,addClass:"text-2xl",animationConfig:n.vc.slow}),(0,l.jsx)("h6",{children:"Jumlah Dosen"})]})]})]})}},3770:function(a,e,t){"use strict";var l=t(9268),s=t(1778);t(6006),e.Z=a=>{let{endValue:e,animationConfig:t,addClass:r}=a,[n,d]=(0,s.YD)({once:!0}),i=(0,s.q_)({number:d?e:0,from:{number:0},config:t,delay:1e3});return(0,l.jsx)(s.q.span,{ref:n,className:r,children:i.number.to(a=>Math.floor(a))})}},3827:function(a,e,t){"use strict";var l=t(2561),s=t(4475),r=t(3415);let n=(0,l.Ue)((0,s.mW)((a,e)=>({dtDosen:[],dtDosenAll:[],setDosen:async e=>{let{page:t=1,limit:l=10,search:s}=e;try{let e=await (0,r.VF)({method:"get",url:"/dosen",params:{limit:l,page:t,search:s}});return a(a=>({...a,dtDosen:e.data.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}},setDosenAll:async e=>{let{search:t,prodi_id:l}=e;try{let e=await (0,r.VF)({method:"get",url:"/dosen/all",params:{search:t,prodi_id:l}});return a(a=>({...a,dtDosenAll:e.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}}})));e.Z=n},2173:function(a,e,t){"use strict";var l=t(2561),s=t(4475),r=t(3415);let n=(0,l.Ue)((0,s.mW)((a,e)=>({dtMatkul:[],setMatkul:async e=>{let{page:t=1,limit:l=10,search:s}=e;try{let e=await (0,r.VF)({method:"get",url:"/matkul",params:{limit:l,page:t,search:s}});return a(a=>({...a,dtMatkul:e.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}},setMatkulAll:async e=>{let{search:t}=e;try{let e=await (0,r.VF)({method:"get",url:"/matkul/all",params:{search:t}});return a(a=>({...a,dtMatkul:e.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}}})));e.Z=n},3222:function(a,e,t){"use strict";var l=t(2561),s=t(4475),r=t(3415);let n=(0,l.Ue)((0,s.mW)((a,e)=>({dtRuangan:[],setRuangan:async e=>{let{page:t=1,limit:l=10,search:s}=e;try{let e=await (0,r.VF)({method:"get",url:"/ruangan",params:{limit:l,page:t,search:s}});return a(a=>({...a,dtRuangan:e.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}},setRuanganAll:async e=>{let{search:t}=e;try{let e=await (0,r.VF)({method:"get",url:"/ruangan/all",params:{search:t}});return a(a=>({...a,dtRuangan:e.data})),{status:"berhasil",data:e.data}}catch(a){return{status:"error",error:a.response.data}}}})));e.Z=n}},function(a){a.O(0,[6680,4550,4288,2772,1282,5350,9253,7698,1744],function(){return a(a.s=5154)}),_N_E=a.O()}]);