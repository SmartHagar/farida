(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2373],{9367:function(e,t,r){Promise.resolve().then(r.bind(r,8919)),Promise.resolve().then(r.bind(r,3889))},3889:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(9268),s=r(366),n=r(2985),o=r(9442),i=r(6006),l=r(9700),c=r(3938);r(6760);var d=e=>{let{register:t,errors:r,control:s,watch:o,setValue:i,dtLogin:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Z,{label:"Email",name:"email",register:t,required:!0,minLength:3,errors:r.email,type:"email",addClass:"col-span-4 lg:col-span-3"}),(0,a.jsx)(c.Z,{label:"Password",name:"password",register:t,required:!0,minLength:3,errors:r.password,type:"password",addClass:"col-span-4 lg:col-span-3"}),(0,a.jsx)(c.Z,{label:"Konfirmasi Password",name:"confirmPwd",register:t,required:!0,minLength:3,errors:r.confirmPwd,type:"password",addClass:"col-span-4 lg:col-span-3"})]})},u=r(593),m=r(4406),p=r(6110),h=r(8039),f=e=>{let{}=e,{cekToken:t,dtLogin:r}=(0,m.Z)();(0,i.useEffect)(()=>(t(),()=>{}),[t]);let[c,f]=(0,i.useState)(!1),{setUpdate:x}=(0,m.Z)(),g=h.Ry().shape({password:h.Z_().min(3,"Password harus lebih dari 3 karakter"),confirmPwd:h.Z_().oneOf([h.iH("password")],"Konfirmasi Password tidak sama"),email:h.Z_().email("Email tidak valid")}),{register:y,handleSubmit:v,setValue:b,control:w,formState:{errors:k},watch:j}=(0,l.cI)({resolver:(0,p.X)(g)}),N=()=>{var e;b("email",null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.email),b("password",""),b("confirmPwd","")};(0,i.useEffect)(()=>{N()},[r]);let Z=async e=>{var a;let s=null==r?void 0:null===(a=r.user)||void 0===a?void 0:a.id;f(!0),console.log({row:e});let{data:n}=await x(s,e);console.log({data:n}),(0,o.Z)({event:n}),(null==n?void 0:n.type)!=="success"||N(),t(),setTimeout(()=>{f(!1)},1500)};return(0,a.jsxs)("form",{onSubmit:v(Z),children:[(0,a.jsx)(n.Z,{name:"id",register:y,type:"hidden"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2 mb-4",children:(0,a.jsx)(d,{register:y,errors:k,control:w,watch:j,setValue:b,dtLogin:r})}),(0,a.jsx)("div",{children:c?(0,a.jsx)(u.Z,{}):(0,a.jsx)(s.Z,{text:"Simpan",onClick:v(Z)})})]})}},366:function(e,t,r){"use strict";var a=r(9268);r(6006),t.Z=e=>{let{text:t,onClick:r,addClass:s}=e;return(0,a.jsx)("button",{onClick:r,className:"bg-primary rounded-lg px-4 py-2 text-white w-fit cursor-pointer hover:shadow-sm hover:shadow-primary ".concat(s),children:t})}},2985:function(e,t,r){"use strict";var a=r(9268);r(6006),t.Z=e=>{let{label:t,register:r,required:s,name:n,minLength:o,maxLength:i,errors:l,valueAsNumber:c,type:d="text",readOnly:u,placeholder:m,autoComplete:p="on",addClass:h,value:f,labelCss:x="text-gray-700"}=e;return(0,a.jsxs)("div",{className:h,children:[(0,a.jsx)("label",{htmlFor:n,className:"text-sm tracking-wide ".concat(x),children:t}),s&&(0,a.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("input",{className:"".concat(u&&"cursor-not-allowed bg-gray-100"," w-full text-base px-4 py-2 border text-gray-700 border-gray-300 rounded-lg focus:outline-none focus:border-secondary"),type:d,id:n,readOnly:u,placeholder:m,autoComplete:p,...r(n,{required:s,minLength:o,maxLength:i,valueAsNumber:c}),value:f})}),(null==l?void 0:l.type)==="required"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==l?void 0:l.type)==="minLength"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",o," karakter"]}),(null==l?void 0:l.type)==="maxLength"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",i," karakter"]}),(null==l?void 0:l.type)==="pattern"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]})]})}},3938:function(e,t,r){"use strict";var a=r(9268),s=r(6006),n=r(8136);t.Z=e=>{let{label:t,register:r,required:o,name:i,minLength:l,maxLength:c,errors:d,valueAsNumber:u,type:m="text",readOnly:p,placeholder:h,autoComplete:f="on",addClass:x,value:g,labelCss:y="text-gray-700"}=e,[v,b]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:x,children:[(0,a.jsx)("label",{htmlFor:i,className:"text-sm tracking-wide ".concat(y),children:t}),o&&(0,a.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{className:"w-full text-base text-gray-700 px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",type:"password"===m?v?"text":"password":m,id:i,readOnly:p,placeholder:h,autoComplete:f,...r(i,{required:o,minLength:l,maxLength:c,valueAsNumber:u}),value:g}),"password"===m&&(0,a.jsx)("div",{className:"absolute right-2 top-0 flex items-center h-full cursor-pointer text-secondary",onClick:()=>{b(!v)},children:v?(0,a.jsx)(n.rCC,{size:20}):(0,a.jsx)(n.I$m,{size:20})})]}),(null==d?void 0:d.type)==="required"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==d?void 0:d.type)==="minLength"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",l," karakter"]}),(null==d?void 0:d.type)==="maxLength"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",c," karakter"]}),(null==d?void 0:d.type)==="pattern"&&(0,a.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]})]})}},593:function(e,t,r){"use strict";var a=r(9268);r(6006),t.Z=()=>(0,a.jsx)("div",{className:"w-12 h-12 rounded-full animate-spin border-y border-solid border-secondary border-t-transparent shadow-md"})},3415:function(e,t,r){"use strict";r.d(t,{I8:function(){return n},Sj:function(){return o},VF:function(){return l},_n:function(){return s},hi:function(){return i}});var a=r(4214);let s="https://back.silaku.fstuogp.com",n=a.Z.create({baseURL:"".concat(s,"/auth")}),o=a.Z.create({baseURL:"".concat(s,"/crud")}),i=a.Z.create({baseURL:"".concat(s,"/api")});a.Z.create({baseURL:"".concat(s,"/storage")});let l=a.Z.create({baseURL:"".concat("https://back.edom.fstuogp.com","/api")})},4406:function(e,t,r){"use strict";var a=r(2561),s=r(4475),n=r(3415),o=r(1712);let i=(0,a.Ue)((0,s.mW)((e,t)=>({dtLogin:[],setToken:async()=>{let e=o.Z.get("token");return e},setLogin:async e=>{try{let t=await (0,n.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let r=await t().setToken();try{let t=await (0,n.I8)({method:"post",url:"/cek-token",headers:{Authorization:"Bearer ".concat(r)}});return e(e=>({...e,dtLogin:t.data.data})),{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setUpdate:async(r,a)=>{try{let s=await t().setToken(),o=await (0,n.I8)({method:"post",url:"/update/".concat(r),headers:{Authorization:"Bearer ".concat(s)},data:a});return e(e=>({...e,dtLogin:o.data.data})),{status:"success",data:o.data}}catch(e){return console.log(e.response.data),{status:"error",data:e.response.data}}}})));t.Z=i},9442:function(e,t,r){"use strict";var a=r(8919);t.Z=e=>{let{event:t,position:r}=e;switch(t.type){case"success":a.default.success(t.message,{duration:4e3,position:r});break;case"error":a.default.error(t.message,{duration:4e3,position:r})}}},3270:function(e,t,r){"use strict";r.d(t,{w_:function(){return l}});var a=r(6006),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(s),o=function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function l(e){return function(t){return a.createElement(c,o({attr:o({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return a.createElement(t.tag,o({key:r},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var r,s=e.attr,n=e.size,l=e.title,c=i(e,["attr","size","title"]),d=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:r,style:o(o({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==n?a.createElement(n.Consumer,null,function(e){return t(e)}):t(s)}}},function(e){e.O(0,[6680,4288,2772,3088,295,9253,7698,1744],function(){return e(e.s=9367)}),_N_E=e.O()}]);