(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8493],{9881:function(e,t,a){Promise.resolve().then(a.bind(a,1723))},1723:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var r=a(9268),s=a(6006),l=a(593),n=a(5437),d=a(3346),i=a(2561),o=a(4475),c=a(3415),u=a(4406);let h=(0,i.Ue)((0,o.mW)((e,t)=>({dtMatkul:[],showMatkul:[],setMatkul:async t=>{let{page:a=1,limit:r=10,search:s}=t;try{let t=await u.Z.getState().setToken(),l=await (0,c.Sj)({method:"get",url:"/matkul",headers:{Authorization:"Bearer ".concat(t)},params:{limit:r,page:a,search:s}});return e(e=>({...e,dtMatkul:l.data.data})),{status:"berhasil",data:l.data}}catch(e){var l;return{status:"error",error:null===(l=e.response)||void 0===l?void 0:l.data}}},setShowMatkul:async t=>{try{let a=await u.Z.getState().setToken(),r=await (0,c.Sj)({method:"get",url:"/matkul/".concat(t),headers:{Authorization:"Bearer ".concat(a)}});return e(e=>({...e,showMatkul:r.data.data})),{status:"berhasil",data:r.data}}catch(e){var a;return{status:"error",error:null===(a=e.response)||void 0===a?void 0:a.data}}},addData:async t=>{try{let a=await u.Z.getState().setToken(),r=await (0,c.Sj)({method:"post",url:"/matkul",headers:{Authorization:"Bearer ".concat(a)},data:t});return e(e=>({dtMatkul:{last_page:e.dtMatkul.last_page,current_page:e.dtMatkul.current_page,data:[r.data.data,...e.dtMatkul.data]}})),{status:"berhasil tambah",data:r.data}}catch(e){return{status:"error",data:e.response.data}}},removeData:async t=>{try{let a=await u.Z.getState().setToken(),r=await (0,c.Sj)({method:"delete",url:"/matkul/".concat(t),headers:{Authorization:"Bearer ".concat(a)}});return e(e=>({dtMatkul:{last_page:e.dtMatkul.last_page,current_page:e.dtMatkul.current_page,data:e.dtMatkul.data.filter(e=>e.id!==t)}})),{status:"berhasil hapus",data:r.data}}catch(e){return{status:"error",data:e.response.data}}},updateData:async(t,a)=>{try{let r=await u.Z.getState().setToken(),s=await (0,c.Sj)({method:"PUT",url:"/matkul/".concat(t),headers:{Authorization:"Bearer ".concat(r)},data:a});return e(e=>({dtMatkul:{last_page:e.dtMatkul.last_page,current_page:e.dtMatkul.current_page,data:e.dtMatkul.data.map(e=>e.id===t?{...e,...s.data.data}:e)}})),{status:"berhasil update",data:s.data}}catch(e){return{status:"error",data:e.response.data}}}})));var m=e=>{let{setDelete:t,setEdit:a,search:i}=e,{setMatkul:o,dtMatkul:c}=h(),[u,m]=(0,s.useState)(1),[p,x]=(0,s.useState)(10),[f,g]=(0,s.useState)(!0),j=async()=>{await o({page:u,limit:p,search:i}),g(!1)};return(0,s.useEffect)(()=>(j(),()=>{}),[u,p]),(0,s.useEffect)(()=>{m(1),j()},[i]),(0,r.jsx)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:f?(0,r.jsx)(l.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)(d.Z,{headTable:["No","Prodi","Kode","Matkul","SKS","Semester","Aksi"],tableBodies:["prodi.nama","kode","nama","sks","semester"],dataTable:c.data,page:u,limit:p,setEdit:a,setDelete:t,ubah:!0,hapus:!0})}),(null==c?void 0:c.last_page)>1&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(n.Z,{currentPage:null==c?void 0:c.current_page,totalPages:null==c?void 0:c.last_page,setPage:m})})]})})},p=a(366),x=a(2985),f=a(7808),g=a(9442),j=a(9700),b=a(1112),k=a(4502);a(6760);var v=e=>{let{register:t,errors:a,control:l,dtEdit:n,watch:d,setValue:i,showModal:o}=e,{setProdiAll:c,dtProdi:u}=(0,k.Z)(),h=async e=>{let{search:t}=e;await c({search:t})};return(0,s.useEffect)(()=>{h({})},[o]),(0,r.jsxs)(r.Fragment,{children:[(null==u?void 0:u.data)&&(0,r.jsx)(b.Z,{label:"Prodi",placeholder:"Pilih Prodi",name:"prodi_id",dataDb:null==u?void 0:u.data,body:["id","nama"],control:l,required:!0,errors:a.prodi_id,addClass:"col-span-4"}),(0,r.jsx)(x.Z,{label:"Kode Matkul",name:"kode",register:t,required:!0,minLength:2,errors:a.kode,addClass:"col-span-4 lg:col-span-1"}),(0,r.jsx)(x.Z,{label:"Nama Matkul",name:"nama",register:t,required:!0,minLength:3,errors:a.nama,addClass:"col-span-4 lg:col-span-2"}),(0,r.jsx)(x.Z,{label:"Singkatan",name:"singkat",register:t,maxLength:10,required:!0,errors:a.singkat,addClass:"col-span-4 lg:col-span-1"}),(0,r.jsx)(x.Z,{label:"Semester",name:"semester",register:t,maxLength:2,required:!0,errors:a.semester,type:"number",addClass:"col-span-4 lg:col-span-1"}),(0,r.jsx)(x.Z,{label:"SKS",name:"sks",register:t,maxLength:2,required:!0,errors:a.sks,type:"number",addClass:"col-span-4 lg:col-span-1"})]})},w=e=>{let{showModal:t,setShowModal:a,dtEdit:l}=e,{addData:n,updateData:d}=h(),{register:i,handleSubmit:o,setValue:c,control:u,formState:{errors:m},watch:b}=(0,j.cI)(),k=()=>{c("id",""),c("kode",""),c("nama",""),c("singkat",""),c("semester",""),c("sks","")};(0,s.useEffect)(()=>{l?(c("id",l.id),c("kode",l.kode),c("nama",l.nama),c("singkat",l.singkat),c("semester",l.semester),c("sks",l.sks)):k()},[t,l]);let w=async e=>{if(console.log({row:e}),l){let{data:t}=await d(l.id,e);(0,g.Z)({event:t}),a(!1)}else{let{data:t}=await n(e);console.log({data:t}),(0,g.Z)({event:t}),(null==t?void 0:t.type)!=="success"||k()}};return(0,r.jsx)(f.Z,{title:"Form Matkul",showModal:t,setShowModal:a,children:(0,r.jsxs)("form",{onSubmit:o(w),children:[(0,r.jsx)(x.Z,{name:"id",register:i,type:"hidden"}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:(0,r.jsx)(v,{register:i,errors:m,dtEdit:l,control:u,watch:b,setValue:c,showModal:t})}),(0,r.jsx)("div",{children:(0,r.jsx)(p.Z,{text:"Simpan",onClick:o(w)})})]})})},y=a(686),N=a(8919),S=a(8350),C=()=>{let{removeData:e}=h(),[t,a]=(0,s.useState)(!1),[l,n]=(0,s.useState)(!1),[d,i]=(0,s.useState)(),[o,c]=(0,s.useState)(),[u,x]=(0,s.useState)(""),f=async t=>{let{id:a,isDelete:r}=t;if(i(a),r){let{data:t}=await e(d);(0,g.Z)({event:t}),n(!1)}else n(!0)};return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(N.x7,{}),(0,r.jsx)(w,{dtEdit:o,showModal:t,setShowModal:a}),(0,r.jsx)(y.Z,{showDel:l,setShowDel:n,setDelete:f}),(0,r.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,r.jsx)("p",{children:"Silahkan Mengolah data Matkul"}),(0,r.jsx)("div",{children:(0,r.jsx)(p.Z,{text:"Tambah Matkul",onClick:()=>{a(!0),c(null)}})})]}),(0,r.jsx)(S.Z,{placeholder:"Cari Matkul",onChange:e=>x(e)})]}),(0,r.jsx)(m,{setDelete:f,setEdit:e=>{a(!0),c(e)},search:u})]})}},686:function(e,t,a){"use strict";var r=a(9268);a(6006);var s=a(8136);t.Z=e=>{let{showDel:t,setShowDel:a,setDelete:l}=e;return t&&(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"fixed inset-0 z-50 mx-auto flex justify-center bg-black/[0.2]",children:(0,r.jsxs)("div",{className:"bg-white p-5 rounded-xl lg:ml-64 md:min-w-[500px] h-min mt-[20%] max-h-[70%] overflow-auto",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-primary/[0.1] mb-4 pb-2",children:[(0,r.jsx)("h5",{className:"text-xl font-roboto",children:"Hapus Data"}),(0,r.jsx)(s.C7Q,{className:"cursor-pointer hover:text-black/[0.5]",onClick:()=>a(!1)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Apaka Anda Yakin Menghapus Data Ini?"}),(0,r.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,r.jsx)("button",{className:"hover:border hover:border-red-600 bg-red-600 w-20 py-2 rounded-xl text-white ",onClick:()=>l({isDelete:!0}),children:"Hapus"}),(0,r.jsx)("button",{className:"w-20 py-2 rounded-xl hover:border-b",onClick:()=>a(!1),children:"Batal"})]})]})]})})})}},5437:function(e,t,a){"use strict";var r=a(9268);a(6006);var s=a(8136);t.Z=e=>{let{totalPages:t,currentPage:a,setPage:l}=e,n=[];if(t<=5)n=Array.from({length:t},(e,t)=>t+1);else{n=[1,a-1,a,a+1,t],n=(n=Array.from(new Set(n)).sort((e,t)=>e-t)).filter(e=>e>0&&e<=t);for(let e=1;e<n.length-1;e++)n[e]-n[e-1]>1&&(n.splice(e,0,"..."),e++);t-n[n.length-2]>1&&n.splice(n.length-1,0,"...")}return(0,r.jsx)("div",{className:"h-full",children:(0,r.jsxs)("ol",{className:"flex justify-center gap-1 text-xs font-medium",children:[a>1&&(0,r.jsx)("li",{children:(0,r.jsx)("div",{onClick:()=>l(a-1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,r.jsx)(s.pjk,{})})}),n.map((e,t)=>"..."===e?(0,r.jsx)("li",{className:"flex items-end text-xl",children:(0,r.jsx)("div",{className:"block h-8 w-8 rounded border border-gray-100 text-center leading-8",children:e})},t):(0,r.jsx)("li",{children:(0,r.jsx)("div",{onClick:()=>l(e),className:"cursor-pointer block h-8 w-8 rounded border border-gray-100 text-center leading-8 ".concat(e==a?"bg-blue-900 text-white":""),children:e})},t)),a<t&&(0,r.jsx)("li",{children:(0,r.jsx)("div",{onClick:()=>l(a+1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,r.jsx)(s.fmn,{})})})]})})}},3346:function(e,t,a){"use strict";var r=a(9268),s=a(4956),l=a(6008),n=a(8136);t.Z=e=>{(0,l.useRouter)();let t=t=>(e.page-1)*e.limit+t+1;return(0,r.jsxs)("table",{className:"w-full border-collapse text-left",children:[(0,r.jsx)("thead",{className:"",children:(0,r.jsx)("tr",{children:e.headTable&&e.headTable.map((e,t)=>(0,r.jsx)("th",{scope:"col",className:"px-6 py-4",children:e},t))})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-100 border-t border-gray-100 ",children:e.dataTable&&e.dataTable.map((a,l)=>{let{id:d}=a;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 rounded-l-xl",children:t(l)}),e.tableBodies.map((e,t)=>(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.Z)(a,e)},t)),(0,r.jsx)("td",{className:"px-6 py-4 rounded-r-xl",children:(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[e.costume&&e.costume(a),e.ubah&&(0,r.jsx)(n.Ph1,{onClick:()=>e.setEdit(a),size:20,className:"cursor-pointer hover:text-yellow-500",title:"Ubah"}),e.hapus&&(0,r.jsx)(n.AuQ,{onClick:()=>(null==e?void 0:e.setDelete)&&(null==e?void 0:e.setDelete({id:d,isDelete:!1})),size:20,className:"cursor-pointer hover:text-red-700",title:"Hapus"})]})})]},l)})})]})}},4502:function(e,t,a){"use strict";var r=a(2561),s=a(4475),l=a(3415);let n=(0,r.Ue)((0,s.mW)((e,t)=>({dtProdi:[],setProdi:async t=>{let{page:a=1,limit:r=10,search:s}=t;try{let t=await (0,l.hi)({method:"get",url:"/prodi",params:{limit:r,page:a,search:s}});return e(e=>({...e,dtProdi:t.data})),{status:"berhasil",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setProdiAll:async t=>{let{search:a}=t;try{let t=await (0,l.hi)({method:"get",url:"/prodi/all",params:{search:a}});return e(e=>({...e,dtProdi:t.data})),{status:"berhasil",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=n},6760:function(){},6008:function(e,t,a){e.exports=a(4e3)},1712:function(e,t,a){"use strict";/*! js-cookie v3.0.5 | MIT */function r(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)e[r]=a[r]}return e}a.d(t,{Z:function(){return s}});var s=function e(t,a){function s(e,s,l){if("undefined"!=typeof document){"number"==typeof(l=r({},a,l)).expires&&(l.expires=new Date(Date.now()+864e5*l.expires)),l.expires&&(l.expires=l.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var d in l)l[d]&&(n+="; "+d,!0!==l[d]&&(n+="="+l[d].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+n}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var a=document.cookie?document.cookie.split("; "):[],r={},s=0;s<a.length;s++){var l=a[s].split("="),n=l.slice(1).join("=");try{var d=decodeURIComponent(l[0]);if(r[d]=t.read(n,d),e===d)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){s(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[6680,4550,4288,1092,9700,3725,3088,7590,9253,7698,1744],function(){return e(e.s=9881)}),_N_E=e.O()}]);