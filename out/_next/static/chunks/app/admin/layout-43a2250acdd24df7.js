(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{5049:function(e,s,n){Promise.resolve().then(n.bind(n,8435))},8435:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return j}});var a=n(9268),r=n(6008),t=()=>{let e=(0,r.usePathname)();return(0,a.jsx)("div",{className:"lg:backdrop-blur-sm lg:py-2",children:"/admin"===e?(0,a.jsx)("p",{className:"text-lg text-center",children:"Selamat Datang admin"}):(0,a.jsx)("p",{className:"text-lg text-center tracking-[0.2rem]",children:"SILAKU"})})},i=n(6006),l=n(1817),c=n(8740),o=n(9032),d=n(7513),u=n(7743),m=n(7163),x=e=>{let{isOpen:s,setIsOpen:n}=(0,d.useMenuContext)(),t=(0,r.usePathname)();return(0,i.useEffect)(()=>{let e=window.innerWidth>=1024;return e?n(!0):n(!1),()=>{n(!1)}},[t]),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"lg:hidden mt-2 ml-2 z-50 h-7 absolute",onClick:()=>n(!s),children:s?(0,a.jsx)(l._0w,{className:" text-3xl absolute left-[15rem] bg-side-bar text-dark rounded-tr-lg rounded-br-lg"}):(0,a.jsx)(l.jw0,{className:"text-2xl"})}),(0,a.jsx)(u.M,{children:s&&(0,a.jsx)(m.E.aside,{animate:"open",exit:"closed",initial:"closed",variants:{open:{opacity:1,x:0},closed:{opacity:0,x:"-100%"}},className:s?"absolute lg:static lg:block w-[15.5rem] lg:w-[18rem] z-10 bg-side-bar rounded-lg shadow-lg shadow-black":"",children:(0,a.jsx)(c.Z,{menus:o.Z})})})]})},h=n(4406),f=n(1712),p=n(593),j=e=>{let[s,n]=(0,i.useState)(!0),l=(0,r.usePathname)(),c=(0,r.useRouter)(),{cekToken:o}=(0,h.Z)(),d=async()=>{let e=await o();if(null==e?void 0:e.error)c.push("/login");else{let e=f.Z.get("role");"admin"!==e&&c.push("/".concat(e))}return e};(0,i.useEffect)(()=>(d(),()=>{}),[l]);let u=async()=>{let e=await d();console.log({cek:e}),(null==e?void 0:e.error)||n(!1)};return((0,i.useEffect)(()=>(u(),console.log("pertama render"),()=>{}),[]),s)?(0,a.jsx)("div",{className:"flex min-h-screen h-screen justify-center items-center",children:(0,a.jsx)(p.Z,{})}):(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex min-h-screen h-screen text-black bg-bg",children:[(0,a.jsx)(x,{}),(0,a.jsxs)("div",{className:"flex h-full w-full overflow-hidden p-1 rounded-lg flex-col",children:[(0,a.jsx)("div",{className:"lg:-mx-4 lg:-mt-2 mb-1",children:(0,a.jsx)(t,{})}),(0,a.jsx)("div",{className:"bg-white h-full overflow-hidden p-2 drop-shadow-2xl shadow-black rounded-lg",children:e.children})]})]})})}},593:function(e,s,n){"use strict";var a=n(9268);n(6006),s.Z=()=>(0,a.jsx)("div",{className:"w-12 h-12 rounded-full animate-spin border-y border-solid border-secondary border-t-transparent shadow-md"})},8740:function(e,s,n){"use strict";var a=n(9268),r=n(5846),t=n.n(r),i=n(6008),l=n(6394),c=n.n(l),o=n(6006),d=n(1712);let u=e=>{let{subMenus:s,name:n,icon:r,slug:i,index:l,pathname:c,openMenus:o}=e,d=o.includes(i);return(0,a.jsx)("div",{children:(0,a.jsxs)("details",{className:"group [&_summary::-webkit-details-marker]:hidden",open:d,children:[(0,a.jsxs)("summary",{className:"flex items-center justify-between px-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary hover:text-gray-200 }",children:[(0,a.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,a.jsx)("span",{children:r}),(0,a.jsx)("span",{className:"mx-2 text-sm font-medium",children:n})]}),(0,a.jsx)("span",{className:"shrink-0 transition duration-300 group-open:-rotate-180",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s&&s.map((e,s)=>{let n=c===e.href;return(0,a.jsxs)("div",{className:"ml-4",children:[!e.subMenus&&(0,a.jsx)(t(),{href:e.href,className:"flex items-center mx-3 py-2 transition-colors duration-300 transform rounded-lg hover:bg-primary/50 hover:text-gray-200 ".concat(n&&"border-b-2 border-primary text-primary bg-white/50"),children:(0,a.jsx)("span",{className:"mx-2 text-sm font-medium",children:e.name})}),e.subMenus&&u({subMenus:e.subMenus,name:e.name,icon:e.icon,slug:e.slug,index:s,pathname:c,openMenus:o})]},s)})]})},l)};s.Z=e=>{let{menus:s}=e,[n,r]=(0,o.useState)(!1),[l,m]=(0,o.useState)([]),x=(0,i.useRouter)(),h=(0,i.usePathname)(),f=e=>{for(let s of e){if(s.href===h){let e=null==h?void 0:h.split("/");e.splice(0,1),m(e)}s.subMenus&&f(s.subMenus)}};(0,o.useEffect)(()=>(f(s),()=>{}),[h]);let p=async()=>{r(!0),d.Z.remove("token"),d.Z.remove("role"),d.Z.remove("dosen_id"),x.push("/"),r(!1)};return(0,a.jsxs)("aside",{className:"flex flex-col w-64 h-screen px-5 overflow-y-auto",children:[(0,a.jsx)("div",{className:"flex items-center mt-2 gap-2 justify-center",children:(0,a.jsx)("div",{className:"relative h-[75px] w-20",children:(0,a.jsx)(c(),{alt:"logo",fill:!0,sizes:"(100vw, 100vh)",style:{objectFit:"contain",objectPosition:"center",width:"100%",height:"100%"},src:"/images/uogp.png"})})}),(0,a.jsx)("div",{className:"my-2",children:(0,a.jsx)("p",{className:"text-lg text-center tracking-[0.2rem]",children:"SILAKU"})}),(0,a.jsx)("div",{className:"mt-2 mb-2 w-full border-b border-light",children:(0,a.jsx)("p",{className:"px-3 text-sm font-medium text-black text-center uppercase ",children:"Menu"})}),(0,a.jsxs)("div",{className:"flex flex-col justify-between flex-1 pt-2 border-t",children:[(0,a.jsx)("nav",{className:"-mx-3 space-y-6 ",children:(0,a.jsx)("div",{className:"space-y-3 text-slate-800",children:s.map((e,s)=>{let{name:n,href:r,icon:i,subMenus:c,slug:o}=e,d=h===r;return c?u({subMenus:c,name:n,icon:i,slug:o,index:s,pathname:h,openMenus:l}):(0,a.jsx)("div",{children:(0,a.jsxs)(t(),{href:r,className:"flex items-center px-3 py-2 transition-all duration-300 transform rounded-lg hover:bg-primary/50 hover:text-gray-200 ".concat(d&&"border-b-2 border-primary text-primary bg-white/50"),children:[(0,a.jsx)("span",{children:i}),(0,a.jsx)("span",{className:"mx-2 text-sm font-medium",children:n})]})},s)})})}),(0,a.jsx)("div",{children:n?(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsx)("button",{onClick:p,className:"flex items-center px-3 py-2 transition-colors duration-300 transform rounded-lg text-secondary hover:underline hover:text-primary",children:(0,a.jsx)("span",{children:"Sign Out"})})})]})]})}},9032:function(e,s,n){"use strict";n.d(s,{G:function(){return i}});var a=n(9268),r=n(8136);let t=[{name:"Dashboard",href:"/admin",icon:(0,a.jsx)(r.ufG,{})},{name:"Ruangan",href:"/admin/ruangan",icon:(0,a.jsx)(r.pZ5,{})},{name:"Matkul",href:"/admin/matkul",icon:(0,a.jsx)(r.DC2,{})},{name:"Dosen",href:"/admin/dosen",icon:(0,a.jsx)(r.z8x,{})},{name:"Jadwal",href:"/admin/jadwal",icon:(0,a.jsx)(r.DGw,{})},{name:"RPS",href:"/admin/rps",icon:(0,a.jsx)(r.fFq,{})},{name:"Berita Acara",href:"/admin/beritaAcara",icon:(0,a.jsx)(r.fFq,{})},{name:"Kelengkapan",href:"/admin/kelengkapan",icon:(0,a.jsx)(r.fFq,{})},{name:"Laporan",href:"#",slug:"laporan",icon:(0,a.jsx)(r.fFq,{}),subMenus:[{name:"Absen",href:"/admin/laporan/absen",icon:(0,a.jsx)(r.fFq,{})},{name:"Berita Acara",href:"/admin/laporan/beritaAcara",icon:(0,a.jsx)(r.fFq,{})},{name:"Nilai",href:"/admin/laporan/nilai",icon:(0,a.jsx)(r.fFq,{})}]}],i=[{name:"Dashboard",href:"/dosen",icon:(0,a.jsx)(r.ufG,{})},{name:"RPS",href:"/dosen/rps",icon:(0,a.jsx)(r.fFq,{})},{name:"Berita Acara",href:"/dosen/beritaAcara",icon:(0,a.jsx)(r.fFq,{})},{name:"Upload",href:"#",slug:"upload",icon:(0,a.jsx)(r.fFq,{}),subMenus:[{name:"Absen",href:"/dosen/upload/absen",icon:(0,a.jsx)(r.fFq,{})},{name:"Berita Acara",href:"/dosen/upload/beritaAcara",icon:(0,a.jsx)(r.fFq,{})},{name:"Nilai",href:"/dosen/upload/nilai",icon:(0,a.jsx)(r.fFq,{})}]}];s.Z=t},7513:function(e,s,n){"use strict";n.r(s),n.d(s,{useMenuContext:function(){return i}});var a=n(9268),r=n(6006);let t=(0,r.createContext)({isOpen:!1,setIsOpen:()=>!1});s.default=e=>{let{children:s}=e,[n,i]=(0,r.useState)(!1);return(0,a.jsx)(t.Provider,{value:{isOpen:n,setIsOpen:i},children:s})};let i=()=>(0,r.useContext)(t)},3415:function(e,s,n){"use strict";n.d(s,{I8:function(){return t},Sj:function(){return i},_n:function(){return r},hi:function(){return l}});var a=n(4214);let r="http://127.0.0.1:8000",t=a.Z.create({baseURL:"".concat(r,"/auth")}),i=a.Z.create({baseURL:"".concat(r,"/crud")}),l=a.Z.create({baseURL:"".concat(r,"/api")});a.Z.create({baseURL:"".concat(r,"/storage")})},4406:function(e,s,n){"use strict";var a=n(2561),r=n(4475),t=n(3415),i=n(1712);let l=(0,a.Ue)((0,r.mW)((e,s)=>({setToken:async()=>{let e=i.Z.get("token");return e},setLogin:async e=>{try{let s=await (0,t.I8)({method:"post",url:"/login",data:e});return{status:"success",data:s.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let e=await s().setToken();try{let s=await (0,t.I8)({method:"post",url:"/cek-token",headers:{Authorization:"Bearer ".concat(e)}});return{status:"success",data:s.data}}catch(e){return{status:"error",error:e.response.data}}}})));s.Z=l}},function(e){e.O(0,[6680,5639,4288,1092,8487,486,9253,7698,1744],function(){return e(e.s=5049)}),_N_E=e.O()}]);