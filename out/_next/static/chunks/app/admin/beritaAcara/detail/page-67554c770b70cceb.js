(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8455],{4548:function(e,a,s){Promise.resolve().then(s.bind(s,8834))},8834:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return Z}});var l=s(9268),t=s(6006),i=s(593),n=s(5437),r=s(3346),d=s(769),c=s(6008),o=s(6598),u=s(7565),m=e=>{let{setDelete:a,setEdit:s,search:m}=e,h=(0,c.useSearchParams)(),x=h.get("berita_acara_id")||"",{setDetBeritaAcara:f,dtDetBeritaAcara:p}=(0,d.Z)(),[j,v]=(0,t.useState)(1),[g,_]=(0,t.useState)(10),[w,S]=(0,t.useState)(!0),[k,b]=(0,t.useState)(),[Z,N]=(0,t.useState)("-1"),E=async()=>{await f({page:j,limit:g,search:m,berita_acara_id:x}),S(!1)};return(0,t.useEffect)(()=>(E(),()=>{}),[j,g]),(0,t.useEffect)(()=>{v(1),E()},[m]),(0,t.useEffect)(()=>{b((0,o.Z)({data:null==p?void 0:p.data,pictures:["foto","paraf_pemeriksa"],title:{path:"materi"},description:{path:"tgl"}}))},[null==p?void 0:p.data]),(0,l.jsxs)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:[(0,l.jsx)(u.Z,{index:Z,setIndex:N,slides:k}),w?(0,l.jsx)(i.Z,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"",children:(0,l.jsx)(r.Z,{headTable:["No","Tgl. Pertemuan","Materi","Jumlah MHS","Sistem Belajar","Foto","Paraf","Aksi"],tableBodies:["tgl","materi","jmlh_mhs","sistem","foto","paraf_pemeriksa"],dataTable:p.data,page:j,limit:g,setEdit:s,setDelete:a,ubah:!0,hapus:!1,setIndexBox:N})}),(null==p?void 0:p.last_page)>1&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(n.Z,{currentPage:null==p?void 0:p.current_page,totalPages:null==p?void 0:p.last_page,setPage:v})})]})]})},h=s(366),x=s(8919),f=s(8350),p=s(3415),j=s(1468),v=s(2985),g=s(7808),_=s(9442),w=s(9700),S=s(8860);s(6760);var k=e=>{let{register:a,errors:s,control:t,dtEdit:i,watch:n,setValue:r,showModal:d,tgl:c,setTgl:o,myFile:u,setMyFile:m}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(S.Z,{watch:n,control:t,name:"paraf_pemeriksa",label:"Paraf Pemeriksa",required:!i,errors:s.paraf_pemeriksa,setValue:r,clear:!0,addClass:"col-span-8 lg:col-span-3"})})},b=e=>{let{showModal:a,setShowModal:s,dtEdit:n}=e,r=(0,c.useSearchParams)(),o=r.get("berita_acara_id")||"",[u,m]=(0,t.useState)(new Date("01-01-1980")),[x,f]=(0,t.useState)(),[p,j]=(0,t.useState)(!1),{addData:S,updateData:b}=(0,d.Z)(),{register:Z,handleSubmit:N,setValue:E,control:P,formState:{errors:M},watch:y}=(0,w.cI)(),C=()=>{E("id",""),E("materi",""),E("jmlh_mhs",""),E("tgl",""),E("foto",""),E("paraf_dosen",""),E("paraf_mhs",""),E("paraf_pemeriksa",""),m(""),f(null)};(0,t.useEffect)(()=>{n?(E("id",n.id),E("materi",n.materi),E("jmlh_mhs",n.jmlh_mhs),E("tgl",n.tgl),m(new Date(n.tgl)),E("foto",n.foto),E("sistem",n.sistem)):C()},[a,n]);let T=async e=>{if(j(!0),e.berita_acara_id=o,n){let{data:a}=await b(n.id,e);(0,_.Z)({event:a}),s(!1)}else{let{data:a}=await S(e);console.log({data:a}),(0,_.Z)({event:a}),(null==a?void 0:a.type)!=="success"||C()}j(!1)};return(0,l.jsx)(g.Z,{title:"Form Pemeriksa",showModal:a,setShowModal:s,children:(0,l.jsxs)("form",{onSubmit:N(T),children:[(0,l.jsx)(v.Z,{name:"id",register:Z,type:"hidden"}),(0,l.jsx)("div",{className:"grid grid-cols-8 gap-2 mb-4",children:(0,l.jsx)(k,{register:Z,errors:M,dtEdit:n,control:P,watch:y,setValue:E,showModal:a,myFile:x,setMyFile:f,tgl:u,setTgl:m})}),(0,l.jsx)("div",{children:p?(0,l.jsx)(i.Z,{}):(0,l.jsx)(h.Z,{text:"Simpan",onClick:N(T)})})]})})},Z=()=>{var e,a,s,n,r;let{removeData:o,showDetBeritaAcara:u}=(0,d.Z)(),{setShowJadwal:v,dtJadwal:g}=(0,j.Z)(),_=(0,c.useSearchParams)(),w=_.get("berita_acara_id")||"",S=_.get("jadwal_id")||"",[k,Z]=(0,t.useState)(!1),[N,E]=(0,t.useState)(),[P,M]=(0,t.useState)(),[y,C]=(0,t.useState)(""),[T,D]=(0,t.useState)(!1);return(0,t.useEffect)(()=>(v(S),()=>{}),[S,v]),(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(x.Toaster,{}),(0,l.jsx)(b,{dtEdit:P,showModal:k,setShowModal:Z}),(0,l.jsxs)("div",{className:"mb-4 flex flex-col-reverse justify-between md:flex-row",children:[(0,l.jsxs)("div",{className:"flex flex-col w-full",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"w-32 inline-block uppercase",children:"Dosen"}),(0,l.jsxs)("span",{children:[": ",null==g?void 0:null===(e=g.dosen)||void 0===e?void 0:e.nama]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"w-32 inline-block uppercase",children:"KODE MK"}),(0,l.jsxs)("span",{children:[": ",null==g?void 0:null===(a=g.matkul)||void 0===a?void 0:a.kode]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"w-32 inline-block uppercase",children:"Mata Kuliah"}),(0,l.jsxs)("span",{children:[": ",null==g?void 0:null===(s=g.matkul)||void 0===s?void 0:s.nama]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"w-32 inline-block uppercase",children:"SKS/SMT/KLS"}),(0,l.jsxs)("span",{children:[": ",null==g?void 0:null===(n=g.matkul)||void 0===n?void 0:n.sks," / ",null==g?void 0:g.semester," T.A 2023/2024"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"w-32 inline-block uppercase",children:"Ruangan"}),(0,l.jsxs)("span",{children:[": ",null==g?void 0:null===(r=g.ruangan)||void 0===r?void 0:r.kode]})]})]}),(0,l.jsx)("div",{className:"flex justify-between self-start mr-4",children:T?(0,l.jsx)(i.Z,{}):(0,l.jsx)(h.Z,{text:"Cetak",addClass:"self-end bg-secondary",onClick:()=>{D(!0),window.open("".concat(p._n,"/pdf/berita-acara/").concat(w)),D(!1)}})})]}),(0,l.jsx)(f.Z,{placeholder:"Cari Data",onChange:e=>C(e)})]}),(0,l.jsx)(m,{setEdit:e=>{Z(!0),M(e)},search:y})]})}}},function(e){e.O(0,[6680,4550,4288,2772,90,3088,8227,1192,3690,9253,7698,1744],function(){return e(e.s=4548)}),_N_E=e.O()}]);