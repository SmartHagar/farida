(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3047],{3897:function(e,t,a){Promise.resolve().then(a.bind(a,9604))},9604:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var s=a(9268),r=a(366),n=a(2985),i=a(9442),l=a(6006),o=a(9700),d=a(3938);a(6760);var c=e=>{let{register:t,errors:a,control:r,watch:i,setValue:l,dtLogin:o}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{label:"Email",name:"email",register:t,required:!0,minLength:3,errors:a.email,type:"email",addClass:"col-span-4 lg:col-span-3",readOnly:!0}),(0,s.jsx)(d.Z,{label:"Password",name:"password",register:t,required:!0,minLength:3,errors:a.password,type:"password",addClass:"col-span-4 lg:col-span-3"}),(0,s.jsx)(d.Z,{label:"Konfirmasi Password",name:"confirmPwd",register:t,required:!0,minLength:3,errors:a.confirmPwd,type:"password",addClass:"col-span-4 lg:col-span-3"})]})},u=a(593),m=a(4406),h=a(6110),p=a(8039),x=e=>{let{dtLogin:t,cekToken:a}=e;(0,l.useEffect)(()=>(a(),()=>{}),[a]);let[d,x]=(0,l.useState)(!1),{setUpdate:g}=(0,m.Z)(),f=p.Ry().shape({password:p.Z_().min(3,"Password harus lebih dari 3 karakter"),confirmPwd:p.Z_().oneOf([p.iH("password")],"Konfirmasi Password tidak sama"),email:p.Z_().email("Email tidak valid")}),{register:b,handleSubmit:k,setValue:y,control:v,formState:{errors:j},watch:w}=(0,o.cI)({resolver:(0,h.X)(f)}),N=()=>{var e;y("email",null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.email),y("password",""),y("confirmPwd","")};(0,l.useEffect)(()=>{N()},[t]);let Z=async e=>{var s;let r=null==t?void 0:null===(s=t.user)||void 0===s?void 0:s.id;x(!0),console.log({row:e});let{data:n}=await g(r,e);console.log({data:n}),(0,i.Z)({event:n}),(null==n?void 0:n.type)!=="success"||N(),a(),setTimeout(()=>{x(!1)},1500)};return(0,s.jsxs)("form",{onSubmit:k(Z),children:[(0,s.jsx)(n.Z,{name:"id",register:b,type:"hidden"}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-2 mb-4",children:(0,s.jsx)(c,{register:b,errors:j,control:v,watch:w,setValue:y,dtLogin:t})}),(0,s.jsx)("div",{children:d?(0,s.jsx)(u.Z,{}):(0,s.jsx)(r.Z,{text:"Simpan",onClick:k(Z)})})]})},g=a(8919),f=e=>{let{cekToken:t,dtLogin:a}=(0,m.Z)();return(0,s.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("p",{children:"Silahkan mengubah data akun anda pada form dibawah ini. Masukanlah email dan password yang baru jika anda ingin mengubahnya."})}),(0,s.jsx)(g.Toaster,{}),(0,s.jsx)("div",{className:"lg:mx-10",children:(0,s.jsx)(x,{dtLogin:a,cekToken:t})})]})}},366:function(e,t,a){"use strict";var s=a(9268);t.Z=e=>{let{text:t,onClick:a,addClass:r,type:n}=e;return(0,s.jsx)("button",{type:n||"submit",onClick:a,className:"bg-primary rounded-lg px-4 py-2 text-white w-fit cursor-pointer hover:shadow-sm hover:shadow-primary ".concat(r),children:t})}},2985:function(e,t,a){"use strict";var s=a(9268);a(6006),t.Z=e=>{let{label:t,register:a,required:r,name:n,minLength:i,maxLength:l,errors:o,valueAsNumber:d,type:c="text",readOnly:u,placeholder:m,autoComplete:h="on",addClass:p,value:x,labelCss:g="text-gray-700"}=e;return(0,s.jsxs)("div",{className:p,children:[(0,s.jsx)("label",{htmlFor:n,className:"text-sm tracking-wide ".concat(g),children:t}),r&&(0,s.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{className:"".concat(u&&"cursor-not-allowed bg-gray-100"," w-full text-base px-4 py-2 border text-gray-700 border-gray-300 rounded-lg focus:outline-none focus:border-secondary"),type:c,id:n,readOnly:u,placeholder:m,autoComplete:h,...a(n,{required:r,minLength:i,maxLength:l,valueAsNumber:d}),value:x})}),(null==o?void 0:o.type)==="required"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==o?void 0:o.type)==="minLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",i," karakter"]}),(null==o?void 0:o.type)==="maxLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",l," karakter"]}),(null==o?void 0:o.type)==="pattern"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]})]})}},3938:function(e,t,a){"use strict";var s=a(9268),r=a(6006),n=a(8136);t.Z=e=>{let{label:t,register:a,required:i,name:l,minLength:o,maxLength:d,errors:c,valueAsNumber:u,type:m="text",readOnly:h,placeholder:p,autoComplete:x="on",addClass:g,value:f,labelCss:b="text-gray-700"}=e,[k,y]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:g,children:[(0,s.jsx)("label",{htmlFor:l,className:"text-sm tracking-wide ".concat(b),children:t}),i&&(0,s.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{className:"w-full text-base text-gray-700 px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",type:"password"===m?k?"text":"password":m,id:l,readOnly:h,placeholder:p,autoComplete:x,...a(l,{required:i,minLength:o,maxLength:d,valueAsNumber:u}),value:f}),"password"===m&&(0,s.jsx)("div",{className:"absolute right-2 top-0 flex items-center h-full cursor-pointer text-secondary",onClick:()=>{y(!k)},children:k?(0,s.jsx)(n.rCC,{size:20}):(0,s.jsx)(n.I$m,{size:20})})]}),(null==c?void 0:c.type)==="required"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==c?void 0:c.type)==="minLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",o," karakter"]}),(null==c?void 0:c.type)==="maxLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",d," karakter"]}),(null==c?void 0:c.type)==="pattern"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]})]})}},593:function(e,t,a){"use strict";var s=a(9268);a(6006),t.Z=()=>(0,s.jsx)("div",{className:"w-12 h-12 rounded-full animate-spin border-y border-solid border-secondary border-t-transparent shadow-md"})},3415:function(e,t,a){"use strict";a.d(t,{I8:function(){return n},Sj:function(){return i},VF:function(){return o},_n:function(){return r},hi:function(){return l}});var s=a(4214);let r="https://back.silaku.fstuogp.com",n=s.Z.create({baseURL:"".concat(r,"/auth")}),i=s.Z.create({baseURL:"".concat(r,"/crud")}),l=s.Z.create({baseURL:"".concat(r,"/api")});s.Z.create({baseURL:"".concat(r,"/storage")});let o=s.Z.create({baseURL:"".concat("https://back.edom.fstuogp.com","/api")})},4406:function(e,t,a){"use strict";var s=a(2561),r=a(4475),n=a(3415),i=a(1712);let l=(0,s.Ue)((0,r.mW)((e,t)=>({dtLogin:[],setToken:async()=>{let e=i.Z.get("token");return e},setLogin:async e=>{try{let t=await (0,n.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let a=await t().setToken();try{let t=await (0,n.I8)({method:"post",url:"/cek-token",headers:{Authorization:"Bearer ".concat(a)}});return e(e=>({...e,dtLogin:t.data.data})),{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setUpdate:async(a,s)=>{try{let r=await t().setToken(),i=await (0,n.I8)({method:"post",url:"/update/".concat(a),headers:{Authorization:"Bearer ".concat(r)},data:s});return e(e=>({...e,dtLogin:i.data.data})),{status:"success",data:i.data}}catch(e){return console.log(e.response.data),{status:"error",data:e.response.data}}}})));t.Z=l},9442:function(e,t,a){"use strict";var s=a(8919);t.Z=e=>{let{event:t,position:a}=e;switch(t.type){case"success":s.default.success(t.message,{duration:4e3,position:a});break;case"error":s.default.error(t.message,{duration:4e3,position:a})}}}},function(e){e.O(0,[6680,4288,2772,3088,9342,9253,7698,1744],function(){return e(e.s=3897)}),_N_E=e.O()}]);