(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2648],{3052:function(e,t,a){Promise.resolve().then(a.bind(a,8078))},8078:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var r=a(9268),l=a(6006),n=a(593),s=a(5437),i=a(1177),c=a(6008),o=a(5326),d=a.n(o),u=e=>{let{headTable:t,dataTable:a,limit:l,page:n}=e,s=e=>(n-1)*l+e+1;return(0,r.jsxs)("table",{className:"w-full border-collapse text-left",children:[(0,r.jsx)("thead",{className:"",children:(0,r.jsx)("tr",{children:t&&t.map((e,t)=>(0,r.jsx)("th",{scope:"col",className:"px-6 py-4",children:e},t))})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-100 border-t border-gray-100 ",children:a&&a.map((e,t)=>{var a,l;let n=!e.upload_rps||!(null===(a=e.berita_acara)||void 0===a?void 0:a.uload_berita_acara)||!e.upload_absen||!e.upload_nilai,i=[e.upload_rps&&"RPS",(null===(l=e.berita_acara)||void 0===l?void 0:l.uload_berita_acara)&&"BERITA ACARA",e.upload_absen&&"ABSEN",e.upload_nilai&&"NILAI"].filter(Boolean);return(0,r.jsxs)("tr",{className:n?"bg-red-100":"",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:s(t)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:i.join(", ")}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:e.dosen.nama}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:e.hari}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:[d()(e.mulai,"HH:mm:ss").format("HH:mm")," -",d()(e.seles,"HH:mm:ss").format("HH:mm")]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:e.matkul.nama})]},t)})})]})},m=e=>{let{setDelete:t,setEdit:a,search:o}=e,d=(0,c.useSearchParams)(),{setKelengkapan:m,dtKelengkapan:h}=(0,i.Z)(),[p,f]=(0,l.useState)(1),[x,b]=(0,l.useState)(10),[g,j]=(0,l.useState)(!0),v=d.get("semester")||"",y=d.get("tahun")||"",w=async()=>{v&&y&&await m({page:p,limit:x,search:o,semester:v,tahun:y}),j(!1)};return(0,l.useEffect)(()=>(w(),()=>{}),[p,x,d,v,y]),(0,l.useEffect)(()=>{f(1),w()},[o]),console.log({dtKelengkapan:h}),(0,r.jsx)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:g?(0,r.jsx)(n.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)(u,{headTable:["No","Kelengkapan","Dosen","Hari","Jam","Mata Kuliah"],dataTable:h.data,page:p,limit:x})}),(null==h?void 0:h.last_page)>1&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(s.Z,{currentPage:null==h?void 0:h.current_page,totalPages:null==h?void 0:h.last_page,setPage:f})})]})})},h=a(8919),p=a(8350),f=a(1281),x=a(4439),b=a(9700),g=()=>{let e=(0,c.useRouter)(),t=(0,c.useSearchParams)(),[a,n]=(0,l.useState)(""),{register:s,control:i,formState:{errors:o},watch:d,setValue:u}=(0,b.cI)(),g=d("tahun"),j=d("semester"),v=t.get("tahun"),y=t.get("semester");return(0,l.useEffect)(()=>{if(v||y)u("tahun",parseInt(v||"")),u("semester",y);else{let t=new Date().getFullYear(),a="Genap";u("tahun",t),u("semester",a),e.push("/admin/kelengkapan?tahun="+t+"&semester="+a)}return()=>{}},[]),(0,l.useEffect)(()=>(g&&j&&e.push("/admin/kelengkapan?tahun="+g+"&semester="+j),()=>{}),[g,j]),(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(h.x7,{}),(0,r.jsx)("div",{className:"mb-4 flex justify-between",children:(0,r.jsx)("p",{children:"Kelengkapan Berkas"})}),(0,r.jsxs)("div",{className:"mb-4 flex justify-between gap-4",children:[(0,r.jsx)(f.u,{label:"Semester",defaultOption:"Pilih Semester",register:s,errors:o,name:"semester",options:[{value:"Ganjil",label:"Ganjil"},{value:"Genap",label:"Genap"}],addClass:"w-full"}),(0,r.jsx)(x.Z,{label:"Tahun",name:"tahun",placeholder:"Pilih Tahun",start:new Date().getFullYear()-2,end:new Date().getFullYear(),fromMax:!0,control:i,required:!0,errors:o,addClass:"w-full"})]}),(0,r.jsx)(p.Z,{placeholder:"Cari Hari",onChange:e=>n(e)})]}),(0,r.jsx)(m,{setEdit:()=>{},search:a})]})}},8350:function(e,t,a){"use strict";var r=a(9268);a(6006),t.Z=e=>{let{placeholder:t,addClass:a,onChange:l,defaultValue:n=""}=e;return(0,r.jsx)("div",{className:a,children:(0,r.jsx)("input",{className:"w-full text-gray-700 px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",placeholder:t,onChange:e=>{l(e.target.value)},defaultValue:n})})}},593:function(e,t,a){"use strict";var r=a(9268);a(6006),t.Z=()=>(0,r.jsx)("div",{className:"w-12 h-12 rounded-full animate-spin border-y border-solid border-secondary border-t-transparent shadow-md"})},5437:function(e,t,a){"use strict";var r=a(9268);a(6006);var l=a(8136);t.Z=e=>{let{totalPages:t,currentPage:a,setPage:n}=e,s=[];if(t<=5)s=Array.from({length:t},(e,t)=>t+1);else{s=[1,a-1,a,a+1,t],s=(s=Array.from(new Set(s)).sort((e,t)=>e-t)).filter(e=>e>0&&e<=t);for(let e=1;e<s.length-1;e++)s[e]-s[e-1]>1&&(s.splice(e,0,"..."),e++);t-s[s.length-2]>1&&s.splice(s.length-1,0,"...")}return(0,r.jsx)("div",{className:"h-full",children:(0,r.jsxs)("ol",{className:"flex justify-center gap-1 text-xs font-medium",children:[a>1&&(0,r.jsx)("li",{children:(0,r.jsx)("div",{onClick:()=>n(a-1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,r.jsx)(l.pjk,{})})}),s.map((e,t)=>"..."===e?(0,r.jsx)("li",{className:"flex items-end text-xl",children:(0,r.jsx)("div",{className:"block h-8 w-8 rounded border border-gray-100 text-center leading-8",children:e})},t):(0,r.jsx)("li",{children:(0,r.jsx)("div",{onClick:()=>n(e),className:"cursor-pointer block h-8 w-8 rounded border border-gray-100 text-center leading-8 ".concat(e==a?"bg-blue-900 text-white":""),children:e})},t)),a<t&&(0,r.jsx)("li",{children:(0,r.jsx)("div",{onClick:()=>n(a+1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,r.jsx)(l.fmn,{})})})]})})}},1281:function(e,t,a){"use strict";a.d(t,{u:function(){return l}});var r=a(9268);a(6006);let l=e=>{let{label:t,register:a,required:l,name:n,placeholder:s,defaultOption:i,options:c=[],errors:o,addClass:d}=e;return(0,r.jsxs)("div",{className:d,children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:t}),l&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("select",{className:"w-full rounded-lg py-2 px-2 bg-white border border-gray-300 focus:outline-none focus:border-secondary",id:t,placeholder:s,...a(n,{required:l}),children:[(0,r.jsx)("option",{value:"",children:i}),c.map((e,t)=>(0,r.jsx)("option",{value:e.value,children:e.label},t))]})}),(null==o?void 0:o.type)==="required"&&(0,r.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]})]})}},4439:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var r=a(9268),l=a(6006),n=a(9711),s=a(431),i=a(1389);a(3779),a(8431),a(9855);var c=(0,l.forwardRef)(function(e,t){var a=(0,n.u)(e);return l.createElement(i.S,(0,s.Z)({ref:t},a))}),o=a(5326),d=a.n(o),u=a(9700),m=e=>{let{label:t,start:a=2012,end:n=d()().format("YYYY"),control:s,required:i,name:o,errors:m,addClass:h,menuPosition:p="fixed",placeholder:f="Pilih Tahun",fromMax:x=!1}=e,b=()=>{let e=[];if(x)for(let t=n;t>=a;t--)e.push({value:t,label:t});else for(let t=a;t<=n;t++)e.push({value:t,label:t});return e},[g,j]=(0,l.useState)(null);return(0,l.useEffect)(()=>{"undefined"!=typeof document&&j(document.body)},[]),(0,r.jsxs)("div",{className:h,children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:t}),i&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),g&&(0,r.jsx)(u.Qr,{name:o,control:s,rules:{required:i},render:e=>{let{field:{onChange:t,value:a,name:l,ref:n}}=e;return(0,r.jsx)(c,{isClearable:!0,isSearchable:!0,options:b(),placeholder:f,menuPosition:p,menuPortalTarget:document.body,ref:n,value:a?b().find(e=>e.value===a):a,onChange:e=>t(e?e.value:e)})}}),(null==m?void 0:m.type)==="required"&&(0,r.jsx)("p",{className:"text-red-500 font-inter italic text-sm",children:"Tahun tidak boleh kosong"})]})}},3415:function(e,t,a){"use strict";a.d(t,{I8:function(){return n},Sj:function(){return s},_n:function(){return l},hi:function(){return i}});var r=a(4214);let l="http://127.0.0.1:8000",n=r.Z.create({baseURL:"".concat(l,"/auth")}),s=r.Z.create({baseURL:"".concat(l,"/crud")}),i=r.Z.create({baseURL:"".concat(l,"/api")});r.Z.create({baseURL:"".concat(l,"/storage")})},1177:function(e,t,a){"use strict";var r=a(2561),l=a(4475),n=a(3415);let s=(0,r.Ue)((0,l.mW)((e,t)=>({dtKelengkapan:[],setKelengkapan:async t=>{let{page:a=1,limit:r=10,search:l,dosen_id:s,tahun:i,semester:c}=t;try{let t=await (0,n.hi)({method:"get",url:"/kelengkapan",params:{limit:r,page:a,search:l,dosen_id:s,tahun:i,semester:c}});return e(e=>({...e,dtKelengkapan:t.data.data})),{status:"berhasil",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setKelengkapanAll:async t=>{let{search:a}=t;try{let t=await (0,n.hi)({method:"get",url:"/kelengkapan/all",params:{search:a}});return e(e=>({...e,dtKelengkapan:t.data})),{status:"berhasil",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=s},6008:function(e,t,a){e.exports=a(4e3)},3270:function(e,t,a){"use strict";a.d(t,{w_:function(){return c}});var r=a(6006),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.createContext&&r.createContext(l),s=function(){return(s=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},i=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>t.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(a[r[l]]=e[r[l]]);return a};function c(e){return function(t){return r.createElement(o,s({attr:s({},e.attr)},t),function e(t){return t&&t.map(function(t,a){return r.createElement(t.tag,s({key:a},t.attr),e(t.child))})}(e.child))}}function o(e){var t=function(t){var a,l=e.attr,n=e.size,c=e.title,o=i(e,["attr","size","title"]),d=n||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,o,{className:a,style:s(s({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),e.children)};return void 0!==n?r.createElement(n.Consumer,null,function(e){return t(e)}):t(l)}}},function(e){e.O(0,[6680,4550,4288,9700,3725,9253,7698,1744],function(){return e(e.s=3052)}),_N_E=e.O()}]);