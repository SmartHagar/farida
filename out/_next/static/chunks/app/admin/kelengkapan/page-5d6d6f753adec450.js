(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2648],{3052:function(e,a,t){Promise.resolve().then(t.bind(t,5998))},5998:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return y}});var r=t(9268),s=t(6006),l=t(593),n=t(5437),i=t(2561),c=t(4475),d=t(3415);let o=(0,i.Ue)((0,c.mW)((e,a)=>({dtKelengkapan:[],setKelengkapan:async a=>{let{page:t=1,limit:r=10,search:s,dosen_id:l,tahun:n,semester:i}=a;try{let a=await (0,d.hi)({method:"get",url:"/kelengkapan",params:{limit:r,page:t,search:s,dosen_id:l,tahun:n,semester:i}});return e(e=>({...e,dtKelengkapan:a.data.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}},setKelengkapanAll:async a=>{let{search:t}=a;try{let a=await (0,d.hi)({method:"get",url:"/kelengkapan/all",params:{search:t}});return e(e=>({...e,dtKelengkapan:a.data})),{status:"berhasil",data:a.data}}catch(e){return{status:"error",error:e.response.data}}}})));var u=t(6008),h=t(5326),m=t.n(h),p=e=>{let{headTable:a,dataTable:t,limit:s,page:l}=e,n=e=>(l-1)*s+e+1;return(0,r.jsxs)("table",{className:"w-full border-collapse text-left",children:[(0,r.jsx)("thead",{className:"",children:(0,r.jsx)("tr",{children:a&&a.map((e,a)=>(0,r.jsx)("th",{scope:"col",className:"px-6 py-4",children:e},a))})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-100 border-t border-gray-100 ",children:t&&t.map((e,a)=>{var t,s;let l=!e.upload_rps||!(null===(t=e.berita_acara)||void 0===t?void 0:t.uload_berita_acara)||!e.upload_absen||!e.upload_nilai,i=[e.upload_rps&&"RPS",(null===(s=e.berita_acara)||void 0===s?void 0:s.uload_berita_acara)&&"BERITA ACARA",e.upload_absen&&"ABSEN",e.upload_nilai&&"NILAI"].filter(Boolean);return(0,r.jsxs)("tr",{className:l?"bg-red-100":"",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:n(a)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:i.join(", ")}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:e.dosen.nama}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:e.hari}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:[m()(e.mulai,"HH:mm:ss").format("HH:mm")," -",m()(e.seles,"HH:mm:ss").format("HH:mm")]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:e.matkul.nama})]},a)})})]})},x=e=>{let{setDelete:a,setEdit:t,search:i}=e,c=(0,u.useSearchParams)(),{setKelengkapan:d,dtKelengkapan:h}=o(),[m,x]=(0,s.useState)(1),[f,b]=(0,s.useState)(10),[j,g]=(0,s.useState)(!0),v=c.get("semester")||"",y=c.get("tahun")||"",N=async()=>{v&&y&&await d({page:m,limit:f,search:i,semester:v,tahun:y}),g(!1)};return(0,s.useEffect)(()=>(N(),()=>{}),[m,f,c,v,y]),(0,s.useEffect)(()=>{x(1),N()},[i]),console.log({dtKelengkapan:h}),(0,r.jsx)("div",{className:"flex-1 flex-col max-w-full h-full overflow-auto",children:j?(0,r.jsx)(l.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)(p,{headTable:["No","Kelengkapan","Dosen","Hari","Jam","Mata Kuliah"],dataTable:h.data,page:m,limit:f})}),(null==h?void 0:h.last_page)>1&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(n.Z,{currentPage:null==h?void 0:h.current_page,totalPages:null==h?void 0:h.last_page,setPage:x})})]})})},f=t(8919),b=t(8350),j=t(1281),g=t(4439),v=t(9700),y=()=>{let e=(0,u.useRouter)(),a=(0,u.useSearchParams)(),[t,l]=(0,s.useState)(""),{register:n,control:i,formState:{errors:c},watch:d,setValue:o}=(0,v.cI)(),h=d("tahun"),m=d("semester"),p=a.get("tahun"),y=a.get("semester");return(0,s.useEffect)(()=>{if(p||y)o("tahun",parseInt(p||"")),o("semester",y);else{let a=new Date().getFullYear(),t="Genap";o("tahun",a),o("semester",t),e.push("/admin/kelengkapan?tahun="+a+"&semester="+t)}return()=>{}},[]),(0,s.useEffect)(()=>(h&&m&&e.push("/admin/kelengkapan?tahun="+h+"&semester="+m),()=>{}),[h,m]),(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f.Toaster,{}),(0,r.jsx)("div",{className:"mb-4 flex justify-between",children:(0,r.jsx)("p",{children:"Kelengkapan Berkas"})}),(0,r.jsxs)("div",{className:"mb-4 flex justify-between gap-4",children:[(0,r.jsx)(j.u,{label:"Semester",defaultOption:"Pilih Semester",register:n,errors:c,name:"semester",options:[{value:"Ganjil",label:"Ganjil"},{value:"Genap",label:"Genap"}],addClass:"w-full"}),(0,r.jsx)(g.Z,{label:"Tahun",name:"tahun",placeholder:"Pilih Tahun",start:new Date().getFullYear()-2,end:new Date().getFullYear(),fromMax:!0,control:i,required:!0,errors:c,addClass:"w-full"})]}),(0,r.jsx)(b.Z,{placeholder:"Cari Hari",onChange:e=>l(e)})]}),(0,r.jsx)(x,{setEdit:()=>{},search:t})]})}},8350:function(e,a,t){"use strict";var r=t(9268);t(6006),a.Z=e=>{let{placeholder:a,addClass:t,onChange:s,defaultValue:l=""}=e;return(0,r.jsx)("div",{className:t,children:(0,r.jsx)("input",{className:"w-full text-gray-700 px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-secondary",placeholder:a,onChange:e=>{s(e.target.value)},defaultValue:l})})}},593:function(e,a,t){"use strict";var r=t(9268);t(6006),a.Z=()=>(0,r.jsx)("div",{className:"w-12 h-12 rounded-full animate-spin border-y border-solid border-secondary border-t-transparent shadow-md"})},5437:function(e,a,t){"use strict";var r=t(9268);t(6006);var s=t(8136);a.Z=e=>{let{totalPages:a,currentPage:t,setPage:l}=e,n=[];if(a<=5)n=Array.from({length:a},(e,a)=>a+1);else{n=[1,t-1,t,t+1,a],n=(n=Array.from(new Set(n)).sort((e,a)=>e-a)).filter(e=>e>0&&e<=a);for(let e=1;e<n.length-1;e++)n[e]-n[e-1]>1&&(n.splice(e,0,"..."),e++);a-n[n.length-2]>1&&n.splice(n.length-1,0,"...")}return(0,r.jsx)("div",{className:"h-full",children:(0,r.jsxs)("ol",{className:"flex justify-center gap-1 text-xs font-medium",children:[t>1&&(0,r.jsx)("li",{children:(0,r.jsx)("div",{onClick:()=>l(t-1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,r.jsx)(s.pjk,{})})}),n.map((e,a)=>"..."===e?(0,r.jsx)("li",{className:"flex items-end text-xl",children:(0,r.jsx)("div",{className:"block h-8 w-8 rounded border border-gray-100 text-center leading-8",children:e})},a):(0,r.jsx)("li",{children:(0,r.jsx)("div",{onClick:()=>l(e),className:"cursor-pointer block h-8 w-8 rounded border border-gray-100 text-center leading-8 ".concat(e==t?"bg-blue-900 text-white":""),children:e})},a)),t<a&&(0,r.jsx)("li",{children:(0,r.jsx)("div",{onClick:()=>l(t+1),className:"cursor-pointer inline-flex h-8 w-8 items-center justify-center rounded border border-gray-100",children:(0,r.jsx)(s.fmn,{})})})]})})}},1281:function(e,a,t){"use strict";t.d(a,{u:function(){return s}});var r=t(9268);t(6006);let s=e=>{let{label:a,register:t,required:s,name:l,placeholder:n,defaultOption:i,options:c=[],errors:d,addClass:o}=e;return(0,r.jsxs)("div",{className:o,children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:a}),s&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("select",{className:"w-full rounded-lg py-2 px-2 bg-white border border-gray-300 focus:outline-none focus:border-secondary",id:a,placeholder:n,...t(l,{required:s}),children:[(0,r.jsx)("option",{value:"",children:i}),c.map((e,a)=>(0,r.jsx)("option",{value:e.value,children:e.label},a))]})}),(null==d?void 0:d.type)==="required"&&(0,r.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[a," tidak boleh kosong"]})]})}},4439:function(e,a,t){"use strict";t.d(a,{Z:function(){return h}});var r=t(9268),s=t(6006),l=t(9711),n=t(431),i=t(1389);t(3779),t(8431),t(9855);var c=(0,s.forwardRef)(function(e,a){var t=(0,l.u)(e);return s.createElement(i.S,(0,n.Z)({ref:a},t))}),d=t(5326),o=t.n(d),u=t(9700),h=e=>{let{label:a,start:t=2012,end:l=o()().format("YYYY"),control:n,required:i,name:d,errors:h,addClass:m,menuPosition:p="fixed",placeholder:x="Pilih Tahun",fromMax:f=!1}=e,b=()=>{let e=[];if(f)for(let a=l;a>=t;a--)e.push({value:a,label:a});else for(let a=t;a<=l;a++)e.push({value:a,label:a});return e},[j,g]=(0,s.useState)(null);return(0,s.useEffect)(()=>{"undefined"!=typeof document&&g(document.body)},[]),(0,r.jsxs)("div",{className:m,children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-700 tracking-wide",children:a}),i&&(0,r.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),j&&(0,r.jsx)(u.Qr,{name:d,control:n,rules:{required:i},render:e=>{let{field:{onChange:a,value:t,name:s,ref:l}}=e;return(0,r.jsx)(c,{isClearable:!0,isSearchable:!0,options:b(),placeholder:x,menuPosition:p,menuPortalTarget:document.body,ref:l,value:t?b().find(e=>e.value===t):t,onChange:e=>a(e?e.value:e)})}}),(null==h?void 0:h.type)==="required"&&(0,r.jsx)("p",{className:"text-red-500 font-inter italic text-sm",children:"Tahun tidak boleh kosong"})]})}},3415:function(e,a,t){"use strict";t.d(a,{I8:function(){return l},Sj:function(){return n},VF:function(){return c},_n:function(){return s},hi:function(){return i}});var r=t(4214);let s="https://back.silaku.fstuogp.com",l=r.Z.create({baseURL:"".concat(s,"/auth")}),n=r.Z.create({baseURL:"".concat(s,"/crud")}),i=r.Z.create({baseURL:"".concat(s,"/api")});r.Z.create({baseURL:"".concat(s,"/storage")});let c=r.Z.create({baseURL:"".concat("https://back.edom.fstuogp.com","/api")})},6008:function(e,a,t){e.exports=t(4e3)}},function(e){e.O(0,[6680,4550,4288,2629,3725,9253,7698,1744],function(){return e(e.s=3052)}),_N_E=e.O()}]);