(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{9178:function(e,t,n){Promise.resolve().then(n.bind(n,7433))},7433:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(9268),o=n(4406),c=n(6008),a=n(6006),i=n(1712),s=n(593);function u(){let{cekToken:e}=(0,o.Z)(),t=(0,c.useRouter)(),[n,u]=(0,a.useState)(!1),d=async()=>{let n=i.Z.get("token");if(n){var r,o,c;let n=await e();if(console.log({cekAuth:n}),null==n?void 0:n.error)t.push("/login");else{let e=null==n?void 0:null===(c=n.data)||void 0===c?void 0:null===(o=c.data)||void 0===o?void 0:null===(r=o.user)||void 0===r?void 0:r.role;t.push("/".concat(e))}}else t.push("/login");u(!1)};return(0,a.useEffect)(()=>{d()},[]),(0,r.jsx)("main",{className:"flex min-h-screen w-screen items-center justify-center",children:(0,r.jsx)(s.Z,{})})}},593:function(e,t,n){"use strict";var r=n(9268);n(6006),t.Z=()=>(0,r.jsx)("div",{className:"w-12 h-12 rounded-full animate-spin border-y border-solid border-secondary border-t-transparent shadow-md"})},3415:function(e,t,n){"use strict";n.d(t,{I8:function(){return c},Sj:function(){return a},_n:function(){return o},hi:function(){return i}});var r=n(4214);let o="http://127.0.0.1:8000",c=r.Z.create({baseURL:"".concat(o,"/auth")}),a=r.Z.create({baseURL:"".concat(o,"/crud")}),i=r.Z.create({baseURL:"".concat(o,"/api")});r.Z.create({baseURL:"".concat(o,"/storage")})},4406:function(e,t,n){"use strict";var r=n(2561),o=n(4475),c=n(3415),a=n(1712);let i=(0,r.Ue)((0,o.mW)((e,t)=>({setToken:async()=>{let e=a.Z.get("token");return e},setLogin:async e=>{try{let t=await (0,c.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let e=await t().setToken();try{let t=await (0,c.I8)({method:"post",url:"/cek-token",headers:{Authorization:"Bearer ".concat(e)}});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=i},6008:function(e,t,n){e.exports=n(4e3)},1712:function(e,t,n){"use strict";/*! js-cookie v3.0.5 | MIT */function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{Z:function(){return o}});var o=function e(t,n){function o(e,o,c){if("undefined"!=typeof document){"number"==typeof(c=r({},n,c)).expires&&(c.expires=new Date(Date.now()+864e5*c.expires)),c.expires&&(c.expires=c.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in c)c[i]&&(a+="; "+i,!0!==c[i]&&(a+="="+c[i].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+a}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var c=n[o].split("="),a=c.slice(1).join("=");try{var i=decodeURIComponent(c[0]);if(r[i]=t.read(a,i),e===i)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){o(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[4288,9253,7698,1744],function(){return e(e.s=9178)}),_N_E=e.O()}]);