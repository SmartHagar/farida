(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{235:function(e,t,r){Promise.resolve().then(r.bind(r,7433))},7433:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(9268),a=r(4406),o=r(6008),s=r(6006),c=r(1712),i=r(593);function u(){let{cekToken:e}=(0,a.Z)(),t=(0,o.useRouter)(),[r,u]=(0,s.useState)(!1),d=async()=>{let r=c.Z.get("token");if(r){var n,a,o;let r=await e();if(console.log({cekAuth:r}),null==r?void 0:r.error)t.push("/login");else{let e=null==r?void 0:null===(o=r.data)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:null===(n=a.user)||void 0===n?void 0:n.role;if("dosen"!==e)return t.push("/admin/dashboard");t.push("/".concat(e,"/dashboard"))}}else t.push("/login");u(!1)};return(0,s.useEffect)(()=>{d()},[]),(0,n.jsx)("main",{className:"flex min-h-screen w-screen items-center justify-center",children:(0,n.jsx)(i.Z,{})})}},593:function(e,t,r){"use strict";var n=r(9268);r(6006),t.Z=()=>(0,n.jsx)("div",{className:"w-12 h-12 rounded-full animate-spin border-y border-solid border-primary border-t-transparent shadow-md"})},3415:function(e,t,r){"use strict";r.d(t,{I8:function(){return o},Sj:function(){return s},_n:function(){return a},cB:function(){return i},hi:function(){return c}});var n=r(4214);let a="http://127.0.0.1:8000",o=n.Z.create({baseURL:"".concat(a,"/auth")}),s=n.Z.create({baseURL:"".concat(a,"/crud")}),c=n.Z.create({baseURL:"".concat(a,"/api")});n.Z.create({baseURL:"".concat(a,"/storage")});let i=n.Z.create({baseURL:"".concat("http://127.0.0.1:8010","/api")})},4406:function(e,t,r){"use strict";var n=r(2561),a=r(4475),o=r(3415),s=r(1712);let c=(0,n.Ue)((0,a.mW)((e,t)=>({dtLogin:[],setToken:async()=>{let e=s.Z.get("token");return e},setLogin:async e=>{try{let t=await (0,o.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let r=await t().setToken();try{let t=await (0,o.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(r)}});return e(e=>({...e,dtLogin:t.data})),{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setUpdate:async(r,n)=>{try{let a=await t().setToken(),s=await (0,o.I8)({method:"post",url:"/update/".concat(r),headers:{Authorization:"Bearer ".concat(a)},data:n});return e(e=>({...e,dtLogin:s.data.data})),{status:"success",data:s.data}}catch(e){return console.log(e.response.data),{status:"error",data:e.response.data}}}})));t.Z=c},6008:function(e,t,r){e.exports=r(4e3)},1712:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return a}});var a=function e(t,r){function a(e,a,o){if("undefined"!=typeof document){"number"==typeof(o=n({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+s}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},a=0;a<r.length;a++){var o=r[a].split("="),s=o.slice(1).join("=");try{var c=decodeURIComponent(o[0]);if(n[c]=t.read(s,c),e===c)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){a(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[4288,9253,7698,1744],function(){return e(e.s=235)}),_N_E=e.O()}]);